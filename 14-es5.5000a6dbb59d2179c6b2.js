!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"0O61":function(e,o,s){"use strict";s.r(o),s.d(o,"SupplyModule",function(){return It});var c,a=s("ofXK"),u=s("RS3s"),l=s("tk/3"),b=s("CS83"),f=s("fXoL"),p=s("McNs"),d=((c=function(e){r(s,e);var o=i(s);function s(e,n){var r;return t(this,s),(r=o.call(this,"DistributionSP")).http=e,r.authService=n,r}return n(s,[{key:"setHeader",value:function(){var t=this;this.authService.onTokenChange().subscribe(function(e){t.header=(new l.d).set("Authorization","Bearer "+e.getValue())})}},{key:"GiveSp",value:function(t){return this.setHeader(),this.http.post(this.Root_URL+"givesp4room",t,{headers:this.header,responseType:"text"})}},{key:"RemoveSP",value:function(t){return this.setHeader(),this.http.post(this.Root_URL+"removespFromRoom",t,{headers:this.header,responseType:"text"})}}]),s}(b.a)).\u0275fac=function(t){return new(t||c)(f.ac(l.a),f.ac(p.d))},c.\u0275prov=f.Mb({token:c,factory:c.\u0275fac,providedIn:"root"}),c),m=s("u3tn"),h=s("3Pt+"),g=s("aceb");function v(t,e){if(1&t&&(f.Wb(0,"span"),f.Hc(1),f.Vb()),2&t){var n=f.hc();f.Db(1),f.Jc(" Ph\xe2n ph\u1ed1i v\u1eadt t\u01b0: ",n.supply.id," ")}}function y(t,e){if(1&t&&f.Hc(0),2&t){var n=f.hc();f.Jc(" X\xf3a v\u1eadt t\u01b0 : ",n.supply.id," ")}}function W(t,e){if(1&t&&(f.Wb(0,"nb-option",16),f.Hc(1),f.Vb()),2&t){var n=e.$implicit;f.nc("value",n.id),f.Db(1),f.Kc(" ",n.name," : ",n.id," ")}}function V(t,e){if(1&t&&(f.Wb(0,"nb-select",14),f.Fc(1,W,2,3,"nb-option",15),f.Vb()),2&t){var n=f.hc();f.nc("status",n.getConfig("roomID")?"danger":"basic"),f.Db(1),f.nc("ngForOf",n.listRoom)}}function D(t,e){if(1&t&&(f.Wb(0,"p"),f.Hc(1),f.Vb()),2&t){var n=f.hc();f.Db(1),f.Jc(" ",n.roomID,"")}}function I(t,e){1&t&&(f.Wb(0,"span"),f.Hc(1,"Count is required"),f.Vb())}function S(t,e){if(1&t&&(f.Wb(0,"span"),f.Hc(1),f.Vb()),2&t){var n=f.hc(2);f.Db(1),f.Jc("Count is min at ",n.formDistribute.get("count").errors.min.min,"")}}function H(t,e){if(1&t&&(f.Wb(0,"span"),f.Hc(1),f.Vb()),2&t){var n=f.hc(2);f.Db(1),f.Jc("Count is max at ",n.formDistribute.get("count").errors.max.max,"")}}function x(t,e){if(1&t&&(f.Wb(0,"span",17),f.Fc(1,I,2,0,"span",7),f.Fc(2,S,2,1,"span",7),f.Fc(3,H,2,1,"span",7),f.Vb()),2&t){var n=f.hc();f.Db(1),f.nc("ngIf",null==n.formDistribute.get("count").errors?null:n.formDistribute.get("count").errors.required),f.Db(1),f.nc("ngIf",null==n.formDistribute.get("count").errors?null:n.formDistribute.get("count").errors.min),f.Db(1),f.nc("ngIf",null==n.formDistribute.get("count").errors?null:n.formDistribute.get("count").errors.max)}}var k,R,C=((R=function(){function e(n,r,o,i,s){t(this,e),this.roomService=n,this.distribution=r,this.fb=o,this.ref=i,this.toast=s,this.isAdd=!0}return n(e,[{key:"ngOnInit",value:function(){var t=this;this.roomService.ListRooms.subscribe(function(e){return t.listRoom=e}),this.formDistribute=this.fb.group({roomID:[{value:this.roomID,disabled:!this.isAdd},[h.x.required]],count:[0,[h.x.required,h.x.min(1),h.x.max(this.supply.total)]]}),null!=this.roomID&&(this.formDistribute.get("roomID").setValue(this.roomID),this.formDistribute.get("roomID"))}},{key:"getConfig",value:function(t){return this.formDistribute.get(t).invalid&&this.formDistribute.get(t).touched}},{key:"submit",value:function(){this.isAdd?this.GiveSP():this.removeSP()}},{key:"GiveSP",value:function(){var t=this;this.distribution.GiveSp({roomID:this.formDistribute.get("roomID").value,supplyID:this.supply.id,count:this.formDistribute.get("count").value}).subscribe(function(e){t.toast.show("Distribution success","SUCCESS",{status:"success"}),t.ref.close(!0)},function(e){t.toast.show(e.error,"ERROR",{status:"danger"})})}},{key:"removeSP",value:function(){var t=this;this.distribution.RemoveSP({roomID:this.roomID,supplyID:this.supply.id,count:this.formDistribute.get("count").value}).subscribe(function(e){t.toast.show("Remove success","REMOVE",{status:"success"}),t.ref.close(!0)},function(e){t.toast.show(e.error,"REMOVE ERROR",{status:"danger"})})}},{key:"cancel",value:function(){this.ref.close()}}]),e}()).\u0275fac=function(t){return new(t||R)(f.Qb(m.a),f.Qb(d),f.Qb(h.c),f.Qb(g.B),f.Qb(g.lb))},R.\u0275cmp=f.Kb({type:R,selectors:[["ngx-distribution"]],inputs:{supply:"supply",roomID:"roomID",isAdd:"isAdd"},decls:24,vars:8,consts:[[4,"ngIf","ngIfElse"],["Remove",""],["novalidate","",3,"formGroup"],[1,"form-group","row"],["for","RoomID",1,"label","col-sm-3","col-form-label"],[1,"col-sm-9"],["formControlName","roomID","shape","semi-round","fullWidth","","id","RoomID","placeholder","Ph\xf2ng",3,"status",4,"ngIf"],[4,"ngIf"],["for","Count",1,"label","col-sm-3","col-form-label"],["type","number","formControlName","count","nbInput","","fullWidth","","id","Count","placeholder","Count",3,"status"],["class","text-danger",4,"ngIf"],[1,"button-row"],["nbButton","","status","danger",3,"click"],["nbButton","","status","success",3,"disabled","click"],["formControlName","roomID","shape","semi-round","fullWidth","","id","RoomID","placeholder","Ph\xf2ng",3,"status"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"text-danger"]],template:function(t,e){if(1&t&&(f.Wb(0,"nb-card"),f.Wb(1,"nb-card-header"),f.Fc(2,v,2,1,"span",0),f.Fc(3,y,1,1,"ng-template",null,1,f.Gc),f.Vb(),f.Wb(5,"nb-card-body"),f.Wb(6,"form",2),f.Wb(7,"div",3),f.Wb(8,"label",4),f.Hc(9,"Ph\xf2ng: "),f.Vb(),f.Wb(10,"div",5),f.Fc(11,V,2,2,"nb-select",6),f.Fc(12,D,2,1,"p",7),f.Vb(),f.Vb(),f.Wb(13,"div",3),f.Wb(14,"label",8),f.Hc(15,"S\u1ed1 l\u01b0\u1ee3ng: "),f.Vb(),f.Wb(16,"div",5),f.Rb(17,"input",9),f.Fc(18,x,4,3,"span",10),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Wb(19,"nb-card-footer",11),f.Wb(20,"button",12),f.dc("click",function(){return e.cancel()}),f.Hc(21,"Cancel"),f.Vb(),f.Wb(22,"button",13),f.dc("click",function(){return e.submit()}),f.Hc(23,"Submit"),f.Vb(),f.Vb(),f.Vb()),2&t){var n=f.vc(4);f.Db(2),f.nc("ngIf",e.isAdd)("ngIfElse",n),f.Db(4),f.nc("formGroup",e.formDistribute),f.Db(5),f.nc("ngIf",e.isAdd),f.Db(1),f.nc("ngIf",!e.isAdd),f.Db(5),f.nc("status",e.getConfig("count")?"danger":"basic"),f.Db(1),f.nc("ngIf",e.getConfig("count")),f.Db(4),f.nc("disabled",!e.formDistribute.valid)}},directives:[g.o,g.q,a.n,g.n,h.z,h.o,h.g,h.s,h.b,g.G,h.n,h.f,g.p,g.l,g.cb,a.m,g.U],encapsulation:2}),R),w=((k=function(e){r(s,e);var o=i(s);function s(e,n){var r;return t(this,s),(r=o.call(this,"Supply")).http=e,r.authService=n,r}return n(s,[{key:"setHeader",value:function(){var t=this;this.authService.onTokenChange().subscribe(function(e){t.header=(new l.d).set("Authorization","Bearer "+e.getValue())})}},{key:"getByID",value:function(t){return this.http.get(this.Root_URL+t)}},{key:"addSupply",value:function(t){return this.setHeader(),this.http.post(this.Root_URL+"create",t,{headers:this.header,responseType:"text"})}},{key:"removeSupply",value:function(t){return this.setHeader(),this.http.delete(this.Root_URL+t,{headers:this.header,responseType:"text"})}},{key:"updateSupply",value:function(t){return this.setHeader(),this.http.post(this.Root_URL+"edit",t,{headers:this.header,responseType:"text"})}},{key:"List",get:function(){return this.http.get(this.Root_URL)}}]),s}(b.a)).\u0275fac=function(t){return new(t||k)(f.ac(l.a),f.ac(p.d))},k.\u0275prov=f.Mb({token:k,factory:k.\u0275fac,providedIn:"root"}),k),F=s("tyNb");function T(t,e){if(1&t){var n=f.Xb();f.Wb(0,"nb-card-footer"),f.Wb(1,"h4"),f.Hc(2,"S\u1ed1 ph\xf2ng s\u1eed d\u1ee5ng"),f.Vb(),f.Wb(3,"ng2-smart-table",9),f.dc("deleteConfirm",function(t){return f.xc(n),f.hc(2).onDeleteConfirm(t)}),f.Vb(),f.Vb()}if(2&t){var r=f.hc(2);f.Db(3),f.nc("settings",r.settings)("source",r.source)}}function q(t,e){if(1&t){var n=f.Xb();f.Wb(0,"nb-card",2),f.Wb(1,"nb-card-header"),f.Hc(2),f.Wb(3,"button",3),f.dc("click",function(){return f.xc(n),f.hc().openDialog()}),f.Hc(4,"Ph\xe2n ph\u1ed1i"),f.Vb(),f.Vb(),f.Wb(5,"nb-card-body"),f.Wb(6,"nb-list"),f.Wb(7,"nb-list-item"),f.Wb(8,"div",4),f.Rb(9,"i",5),f.Hc(10," T\xean v\u1eadt t\u01b0: "),f.Vb(),f.Wb(11,"div",6),f.Hc(12),f.Vb(),f.Vb(),f.Wb(13,"nb-list-item"),f.Wb(14,"div",4),f.Rb(15,"i",7),f.Hc(16," S\u1ed1 l\u01b0\u1ee3ng kh\u1ea3 d\u1ee5ng: "),f.Vb(),f.Wb(17,"div",6),f.Hc(18),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Fc(19,T,4,2,"nb-card-footer",8),f.Vb()}if(2&t){var r=f.hc();f.Db(2),f.Jc(" Ph\xe2n ph\u1ed1i v\u1eadt t\u01b0: ",r.supply.id," "),f.Db(10),f.Ic(r.supply.name),f.Db(6),f.Ic(r.supply.total),f.Db(1),f.nc("ngIf",r.supply.rooms.length>0)}}function N(t,e){1&t&&(f.Wb(0,"nb-card",10),f.Wb(1,"nb-card-header"),f.Hc(2,"Supply does not exist"),f.Vb(),f.Vb())}var P,O=((P=function(){function e(n,r,o){t(this,e),this.route=n,this.dialog=r,this.supplyService=o,this.settings={actions:{add:!1,edit:!1},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},columns:{roomID:{title:"Room ID",type:"string",filter:!0},room:{title:"Room name",type:"string",valuePrepareFunction:function(t){return t.name}},count:{title:"S\u1ed1 l\u01b0\u1ee3ng",type:"number",filter:!0}}},this.source=new u.a}return n(e,[{key:"ngOnInit",value:function(){this.loadSP()}},{key:"loadSP",value:function(){var t=this;this.route.paramMap.subscribe(function(e){var n=e.get("id");t.supplyService.getByID(n).subscribe(function(e){t.supply=e,t.source.reset(),t.source.load(t.supply.rooms)})})}},{key:"openDialog",value:function(){var t=this;this.dialog.open(C,{context:{supply:this.supply,isAdd:!0}}).onClose.subscribe(function(e){e&&t.loadSP()})}},{key:"onDeleteConfirm",value:function(t){var e=this;console.log(t.data),this.dialog.open(C,{context:{supply:this.supply,roomID:t.data.roomID,isAdd:!1}}).onClose.subscribe(function(t){t&&e.loadSP()})}}]),e}()).\u0275fac=function(t){return new(t||P)(f.Qb(F.a),f.Qb(g.C),f.Qb(w))},P.\u0275cmp=f.Kb({type:P,selectors:[["ngx-distribution-supply"]],decls:3,vars:2,consts:[["status","success",4,"ngIf","ngIfElse"],["noSup",""],["status","success"],["nbButton","","status","primary",1,"float-right",3,"click"],[1,"col-4"],[1,"fas","fa-tv"],[1,"col-6"],[1,"fas","fa-exclamation"],[4,"ngIf"],[3,"settings","source","deleteConfirm"],["status","danger"]],template:function(t,e){if(1&t&&(f.Fc(0,q,20,4,"nb-card",0),f.Fc(1,N,3,0,"ng-template",null,1,f.Gc)),2&t){var n=f.vc(2);f.nc("ngIf",null!=e.supply)("ngIfElse",n)}},directives:[a.n,g.o,g.q,g.l,g.n,g.N,g.O,g.p,u.b],encapsulation:2}),P),Q=s("+NJU");function L(t,e){1&t&&(f.Wb(0,"span"),f.Hc(1,"Name is required"),f.Vb())}function B(t,e){if(1&t&&(f.Wb(0,"span"),f.Hc(1),f.Vb()),2&t){var n=f.hc(3);f.Db(1),f.Jc(" Name at least ",null==n.form.get("name").errors?null:n.form.get("name").errors.minlength.requiredLength," characters ")}}function E(t,e){if(1&t&&(f.Wb(0,"span"),f.Hc(1),f.Vb()),2&t){var n=f.hc(3);f.Db(1),f.Jc(" Name at most ",null==n.form.get("name").errors?null:n.form.get("name").errors.maxlength.requiredLength," characters ")}}function J(t,e){if(1&t&&(f.Wb(0,"span",20),f.Fc(1,L,2,0,"span",21),f.Fc(2,B,2,1,"span",21),f.Fc(3,E,2,1,"span",21),f.Vb()),2&t){var n=f.hc(2);f.Db(1),f.nc("ngIf",n.form.get("name").errors.required),f.Db(1),f.nc("ngIf",null==n.form.get("name").errors?null:n.form.get("name").errors.minlength),f.Db(1),f.nc("ngIf",null==n.form.get("name").errors?null:n.form.get("name").errors.maxlength)}}function U(t,e){if(1&t&&(f.Wb(0,"nb-option",22),f.Hc(1),f.Vb()),2&t){var n=e.$implicit;f.nc("value",n.value),f.Db(1),f.Jc(" ",n.name," ")}}function G(t,e){1&t&&(f.Wb(0,"span"),f.Hc(1,"Total is required"),f.Vb())}function A(t,e){if(1&t&&(f.Wb(0,"span"),f.Hc(1),f.Vb()),2&t){var n=f.hc(3);f.Db(1),f.Jc(" Total at min ",null==n.form.get("total").errors?null:n.form.get("total").errors.min.min," ")}}function _(t,e){if(1&t&&(f.Wb(0,"span",20),f.Fc(1,G,2,0,"span",21),f.Fc(2,A,2,1,"span",21),f.Vb()),2&t){var n=f.hc(2);f.Db(1),f.nc("ngIf",n.form.get("total").errors.required),f.Db(1),f.nc("ngIf",null==n.form.get("total").errors?null:n.form.get("total").errors.min)}}function M(t,e){if(1&t){var n=f.Xb();f.Wb(0,"nb-card",2),f.Wb(1,"nb-card-header"),f.Hc(2),f.Vb(),f.Wb(3,"nb-card-body"),f.Wb(4,"form",3),f.Wb(5,"div",4),f.Wb(6,"label",5),f.Hc(7,"T\xean d\u1ecbch v\u1ee5: "),f.Vb(),f.Wb(8,"div",6),f.Rb(9,"input",7),f.Fc(10,J,4,3,"span",8),f.Vb(),f.Vb(),f.Wb(11,"div",9),f.Wb(12,"div",10),f.Wb(13,"div",4),f.Wb(14,"label",11),f.Hc(15,"C\u1eadp nh\u1eadt s\u1ed1 l\u01b0\u1ee3ng: "),f.Vb(),f.Wb(16,"div",6),f.Wb(17,"nb-select",12),f.Fc(18,U,2,2,"nb-option",13),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Wb(19,"div",10),f.Wb(20,"div",4),f.Wb(21,"label",14),f.Hc(22,"S\u1ed1 l\u01b0\u1ee3ng: "),f.Vb(),f.Wb(23,"div",6),f.Rb(24,"input",15),f.Fc(25,_,3,2,"span",8),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Wb(26,"nb-card-footer"),f.Wb(27,"div",9),f.Wb(28,"div",16),f.Wb(29,"button",17),f.dc("click",function(){return f.xc(n),f.hc().updateSupply()}),f.Hc(30,"C\u1eacP NH\u1eacT"),f.Vb(),f.Vb(),f.Wb(31,"div",18),f.Wb(32,"button",19),f.dc("click",function(){return f.xc(n),f.hc().resetForm()}),f.Hc(33,"NH\u1eacP L\u1ea0I"),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Vb()}if(2&t){var r=e.ngIf,o=f.hc();f.Db(2),f.Jc("C\u1eadp nh\u1eadt d\u1ecbch v\u1ee5: ",r.id,""),f.Db(2),f.nc("formGroup",o.form),f.Db(5),f.nc("status",o.getConfig("name")?"danger":"basic"),f.Db(1),f.nc("ngIf",o.getConfig("name")),f.Db(8),f.nc("ngForOf",o.listType),f.Db(6),f.nc("status",o.getConfig("total")?"danger":"basic"),f.Db(1),f.nc("ngIf",o.getConfig("total")),f.Db(4),f.nc("disabled",o.form.invalid)}}function j(t,e){1&t&&(f.Wb(0,"nb-card",20),f.Wb(1,"nb-card-header"),f.Hc(2,"Service does not exist"),f.Vb(),f.Vb())}var K,X=((K=function(){function e(n,r,o,i,s,c){t(this,e),this.fb=n,this.supplyService=r,this.route=o,this.dialog=i,this.router=s,this.toast=c,this.listType=[{value:"none",name:"Gi\u1eef nguy\xean s\u1ed1 l\u01b0\u1ee3ng"},{value:"newcount",name:"C\u1eadp nh\u1eadt s\u1ed1 l\u01b0\u1ee3ng"},{value:"addcount",name:"Nh\u1eadp th\xeam s\u1ed1 l\u01b0\u1ee3ng"}]}return n(e,[{key:"ngOnInit",value:function(){var t=this;this.route.paramMap.subscribe(function(e){var n=e.get("id");t.supply$=t.supplyService.getByID(n)}),this.supply$.subscribe(function(e){t.form=t.fb.group({name:[e.name,[h.x.required,h.x.maxLength(30)]],type:[t.listType[0].value,[h.x.required]],total:[e.total,[h.x.min(0)]]})})}},{key:"updateSupply",value:function(){var t=this;this.supply$.subscribe(function(e){t.dialog.open(Q.a,{context:{title:"C\u1eadp nh\u1eadt v\u1eadt t\u01b0 ".concat(e.id,"?")}}).onClose.subscribe(function(n){n&&t.update(e.id)})})}},{key:"update",value:function(t){var e=this,n={id:t,name:this.form.get("name").value,editType:this.form.get("type").value,count:this.form.get("total").value};this.supplyService.updateSupply(n).subscribe(function(t){e.toast.show("Edit success","EDIT",{status:"success"}),e.router.navigateByUrl("/home/supply/details/"+n.id)},function(t){e.toast.show("Edit failed","EDIT",{status:"danger"})})}},{key:"resetForm",value:function(){var t=this;this.supply$.subscribe(function(e){t.form.get("name").setValue(e.name),t.form.get("type").setValue("none"),t.form.get("total").setValue(e.total)})}},{key:"getConfig",value:function(t){return this.form.get(t).invalid&&this.form.get(t).touched}}]),e}()).\u0275fac=function(t){return new(t||K)(f.Qb(h.c),f.Qb(w),f.Qb(F.a),f.Qb(g.C),f.Qb(F.c),f.Qb(g.lb))},K.\u0275cmp=f.Kb({type:K,selectors:[["ngx-update-supply"]],decls:4,vars:4,consts:[["status","success",4,"ngIf","ngIfElse"],["noSer",""],["status","success"],["novalidate","",3,"formGroup"],[1,"form-group","row"],["for","Name",1,"label","col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text","formControlName","name","nbInput","","fullWidth","","id","Name","placeholder","Supply name",3,"status"],["class","text-danger",4,"ngIf"],[1,"row"],[1,"col-md-6","col-12"],["for","Type",1,"label","col-sm-3","col-form-label"],["formControlName","type","shape","semi-round","fullWidth","","id","Type","placeholder","Lo\u1ea1i c\u1eadp nh\u1eadt"],[3,"value",4,"ngFor","ngForOf"],["for","Total",1,"label","col-sm-3","col-form-label"],["type","number","formControlName","total","nbInput","","fullWidth","","id","Total","placeholder","Supply total",3,"status"],[1,"col-md-4","col-12"],["nbButton","","fullWidth","","hero","","status","primary",3,"disabled","click"],[1,"offset-md-4","col-md-4","col-12"],["nbButton","","fullWidth","","hero","","status","danger",3,"click"],[1,"text-danger"],[4,"ngIf"],[3,"value"]],template:function(t,e){if(1&t&&(f.Fc(0,M,34,8,"nb-card",0),f.ic(1,"async"),f.Fc(2,j,3,0,"ng-template",null,1,f.Gc)),2&t){var n=f.vc(3);f.nc("ngIf",f.jc(1,2,e.supply$))("ngIfElse",n)}},directives:[a.n,g.o,g.q,g.n,h.z,h.o,h.g,h.b,g.G,h.n,h.f,g.cb,a.m,h.s,g.p,g.l,g.U],pipes:[a.b],encapsulation:2}),K);function $(t,e){if(1&t&&(f.Wb(0,"nb-list-item"),f.Wb(1,"div",3),f.Rb(2,"i",14),f.Hc(3," S\u1ed1 ph\xf2ng s\u1eed d\u1ee5ng: "),f.Vb(),f.Wb(4,"div",15),f.Hc(5),f.Vb(),f.Vb()),2&t){var n=f.hc(2);f.Db(5),f.Ic(n.supply.rooms.length)}}function z(t,e){if(1&t){var n=f.Xb();f.Wb(0,"nb-card",2),f.Wb(1,"nb-card-header"),f.Hc(2),f.Vb(),f.Wb(3,"nb-card-body"),f.Wb(4,"nb-list"),f.Wb(5,"nb-list-item"),f.Wb(6,"div",3),f.Rb(7,"i",4),f.Hc(8," T\xean v\u1eadt t\u01b0: "),f.Vb(),f.Wb(9,"div",5),f.Hc(10),f.Vb(),f.Vb(),f.Wb(11,"nb-list-item"),f.Wb(12,"div",3),f.Rb(13,"i",6),f.Hc(14," S\u1ed1 l\u01b0\u1ee3ng kh\u1ea3 d\u1ee5ng: "),f.Vb(),f.Wb(15,"div",5),f.Hc(16),f.Vb(),f.Vb(),f.Fc(17,$,6,1,"nb-list-item",7),f.Vb(),f.Vb(),f.Wb(18,"nb-card-footer"),f.Wb(19,"div",8),f.Wb(20,"div",9),f.Wb(21,"button",10),f.dc("click",function(){f.xc(n);var t=f.hc();return t.onUpdate(t.supply.id)}),f.Rb(22,"i",11),f.Hc(23,"\u2003C\u1eadp nh\u1eadt v\u1eadt t\u01b0 "),f.Vb(),f.Vb(),f.Wb(24,"div",9),f.Wb(25,"button",10),f.dc("click",function(){return f.xc(n),f.hc().distribution()}),f.Rb(26,"i",11),f.Hc(27,"\u2003Ph\xe2n ph\u1ed1i "),f.Vb(),f.Vb(),f.Wb(28,"div",9),f.Wb(29,"button",12),f.dc("click",function(){f.xc(n);var t=f.hc();return t.onRemove(t.supply.id)}),f.Rb(30,"i",13),f.Hc(31,"\u2003X\xf3a v\u1eadt t\u01b0 "),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Vb()}if(2&t){var r=f.hc();f.Db(2),f.Jc("Th\xf4ng tin v\u1eadt t\u01b0: ",r.supply.id,""),f.Db(8),f.Ic(r.supply.name),f.Db(6),f.Ic(r.supply.total),f.Db(1),f.nc("ngIf",r.supply.rooms.length>0)}}function Z(t,e){1&t&&(f.Wb(0,"nb-card",16),f.Wb(1,"nb-card-header"),f.Hc(2,"Supply does not exist"),f.Vb(),f.Vb())}var Y,tt=((Y=function(){function e(n,r,o,i){t(this,e),this.route=n,this.supplyService=r,this.dialog=o,this.router=i}return n(e,[{key:"ngOnInit",value:function(){var t=this;this.route.paramMap.subscribe(function(e){var n=e.get("id");t.supplyService.getByID(n).subscribe(function(e){t.supply=e})})}},{key:"onUpdate",value:function(t){this.router.navigateByUrl("/home/supply/update/"+t)}},{key:"distribution",value:function(){this.router.navigateByUrl("/home/supply/distribution/"+this.supply.id)}},{key:"onRemove",value:function(t){var e=this;this.dialog.open(Q.a,{context:{title:"Are you want to remove supply?",content:"Supply id: "+t}}).onClose.subscribe(function(n){n&&(e.supplyService.removeSupply(t),e.router.navigateByUrl("/home/supply"))})}}]),e}()).\u0275fac=function(t){return new(t||Y)(f.Qb(F.a),f.Qb(w),f.Qb(g.C),f.Qb(F.c))},Y.\u0275cmp=f.Kb({type:Y,selectors:[["ngx-details-supply"]],decls:3,vars:2,consts:[["status","success",4,"ngIf","ngIfElse"],["noSup",""],["status","success"],[1,"col-4"],[1,"fas","fa-tv"],[1,"col-6"],[1,"fas","fa-exclamation"],[4,"ngIf"],[1,"row"],[1,"col-md-4","col-12"],["hero","","fullWidth","","nbButton","","shape","semi-round","status","info",3,"click"],[1,"fas","fa-edit"],["hero","","fullWidth","","nbButton","","shape","semi-round","status","danger",3,"click"],[1,"fas","fa-minus-circle"],[1,"fas","fa-door-closed"],[1,"col-8"],["status","danger"]],template:function(t,e){if(1&t&&(f.Fc(0,z,32,4,"nb-card",0),f.Fc(1,Z,3,0,"ng-template",null,1,f.Gc)),2&t){var n=f.vc(2);f.nc("ngIf",null!=e.supply)("ngIfElse",n)}},directives:[a.n,g.o,g.q,g.n,g.N,g.O,g.p,g.l],encapsulation:2}),Y);function et(t,e){1&t&&(f.Wb(0,"span"),f.Hc(1,"ID is required"),f.Vb())}function nt(t,e){if(1&t&&(f.Wb(0,"span"),f.Hc(1),f.Vb()),2&t){var n=f.hc(2);f.Db(1),f.Jc(" Supply ID at least ",null==n.form.get("id").errors?null:n.form.get("id").errors.minlength.requiredLength," characters ")}}function rt(t,e){if(1&t&&(f.Wb(0,"span"),f.Hc(1),f.Vb()),2&t){var n=f.hc(2);f.Db(1),f.Jc(" Supply ID at most ",null==n.form.get("id").errors?null:n.form.get("id").errors.maxlength.requiredLength," characters ")}}function ot(t,e){1&t&&(f.Wb(0,"span"),f.Hc(1," Supply ID is invalid "),f.Vb())}function it(t,e){if(1&t&&(f.Wb(0,"span",16),f.Fc(1,et,2,0,"span",17),f.Fc(2,nt,2,1,"span",17),f.Fc(3,rt,2,1,"span",17),f.Fc(4,ot,2,0,"span",17),f.Vb()),2&t){var n=f.hc();f.Db(1),f.nc("ngIf",n.form.get("id").errors.required),f.Db(1),f.nc("ngIf",null==n.form.get("id").errors?null:n.form.get("id").errors.minlength),f.Db(1),f.nc("ngIf",null==n.form.get("id").errors?null:n.form.get("id").errors.maxlength),f.Db(1),f.nc("ngIf",null==n.form.get("id").errors?null:n.form.get("id").errors.pattern)}}function st(t,e){1&t&&(f.Wb(0,"span"),f.Hc(1,"Name is required"),f.Vb())}function ct(t,e){if(1&t&&(f.Wb(0,"span"),f.Hc(1),f.Vb()),2&t){var n=f.hc(2);f.Db(1),f.Jc(" Name at least ",null==n.form.get("name").errors?null:n.form.get("name").errors.minlength.requiredLength," characters ")}}function at(t,e){if(1&t&&(f.Wb(0,"span"),f.Hc(1),f.Vb()),2&t){var n=f.hc(2);f.Db(1),f.Jc(" Name at most ",null==n.form.get("name").errors?null:n.form.get("name").errors.maxlength.requiredLength," characters ")}}function ut(t,e){if(1&t&&(f.Wb(0,"span",16),f.Fc(1,st,2,0,"span",17),f.Fc(2,ct,2,1,"span",17),f.Fc(3,at,2,1,"span",17),f.Vb()),2&t){var n=f.hc();f.Db(1),f.nc("ngIf",n.form.get("name").errors.required),f.Db(1),f.nc("ngIf",null==n.form.get("name").errors?null:n.form.get("name").errors.minlength),f.Db(1),f.nc("ngIf",null==n.form.get("id").errors?null:n.form.get("id").errors.maxlength)}}function lt(t,e){1&t&&(f.Wb(0,"span"),f.Hc(1,"Total is required"),f.Vb())}function bt(t,e){if(1&t&&(f.Wb(0,"span"),f.Hc(1),f.Vb()),2&t){var n=f.hc(2);f.Db(1),f.Jc(" Total at min ",null==n.form.get("total").errors?null:n.form.get("total").errors.min.min," characters ")}}function ft(t,e){if(1&t&&(f.Wb(0,"span",16),f.Fc(1,lt,2,0,"span",17),f.Fc(2,bt,2,1,"span",17),f.Vb()),2&t){var n=f.hc();f.Db(1),f.nc("ngIf",n.form.get("total").errors.required),f.Db(1),f.nc("ngIf",null==n.form.get("total").errors?null:n.form.get("total").errors.min)}}var pt,dt,mt,ht,gt,vt=((pt=function(){function e(n,r,o,i,s){t(this,e),this.supplyService=n,this.fb=r,this.router=o,this.dialog=i,this.toast=s}return n(e,[{key:"ngOnInit",value:function(){this.form=this.fb.group({id:["",[h.x.required,h.x.minLength(2),h.x.maxLength(10),h.x.pattern("^[0-9A-Z]{2,10}$")]],name:["",[h.x.required,h.x.maxLength(30)]],total:["",[h.x.required,h.x.min(1)]]})}},{key:"addSupply",value:function(){var t=this;this.supplyService.addSupply({id:this.form.get("id").value,name:this.form.get("name").value,total:this.form.get("total").value}).subscribe(function(e){t.toast.show("Create success","ADD",{status:"success"}),t.router.navigateByUrl("/home/supply/details/"+t.form.get("id").value)},function(e){t.dialog.open(Q.a,{context:{title:"Error when create",content:e.error}})})}},{key:"getConfig",value:function(t){return this.form.get(t).invalid&&this.form.get(t).touched}}]),e}()).\u0275fac=function(t){return new(t||pt)(f.Qb(w),f.Qb(h.c),f.Qb(F.c),f.Qb(g.C),f.Qb(g.lb))},pt.\u0275cmp=f.Kb({type:pt,selectors:[["ngx-add-supply"]],decls:33,vars:8,consts:[[1,"row"],[1,"col-md-12"],["novalidate","",3,"formGroup"],[1,"form-group","row"],["for","Id",1,"label","col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text","formControlName","id","nbInput","","fullWidth","","id","Id","placeholder","Supply ID",3,"status"],["class","text-danger",4,"ngIf"],["for","Name",1,"label","col-sm-3","col-form-label"],["type","text","formControlName","name","nbInput","","fullWidth","","id","Name","placeholder","Supply name",3,"status"],["for","Total",1,"label","col-sm-3","col-form-label"],["type","number","formControlName","total","nbInput","","fullWidth","","id","Total","placeholder","Supply total",3,"status"],[1,"col-md-4","col-12"],["nbButton","","fullWidth","","hero","","status","primary",3,"disabled","click"],[1,"offset-md-4","col-md-4","col-12"],["nbButton","","fullWidth","","hero","","status","danger",3,"click"],[1,"text-danger"],[4,"ngIf"]],template:function(t,e){1&t&&(f.Wb(0,"div",0),f.Wb(1,"div",1),f.Wb(2,"nb-card"),f.Wb(3,"nb-card-header"),f.Hc(4,"TH\xcaM V\u1eacT T\u01af"),f.Vb(),f.Wb(5,"nb-card-body"),f.Wb(6,"form",2),f.Wb(7,"div",3),f.Wb(8,"label",4),f.Hc(9,"M\xe3 s\u1ed1 v\u1eadt t\u01b0: "),f.Vb(),f.Wb(10,"div",5),f.Rb(11,"input",6),f.Fc(12,it,5,4,"span",7),f.Vb(),f.Vb(),f.Wb(13,"div",3),f.Wb(14,"label",8),f.Hc(15,"T\xean v\u1eadt t\u01b0: "),f.Vb(),f.Wb(16,"div",5),f.Rb(17,"input",9),f.Fc(18,ut,4,3,"span",7),f.Vb(),f.Vb(),f.Wb(19,"div",3),f.Wb(20,"label",10),f.Hc(21,"S\u1ed1 l\u01b0\u1ee3ng: "),f.Vb(),f.Wb(22,"div",5),f.Rb(23,"input",11),f.Fc(24,ft,3,2,"span",7),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Wb(25,"nb-card-footer"),f.Wb(26,"div",0),f.Wb(27,"div",12),f.Wb(28,"button",13),f.dc("click",function(){return e.addSupply()}),f.Hc(29,"TH\xcaM M\u1edaI"),f.Vb(),f.Vb(),f.Wb(30,"div",14),f.Wb(31,"button",15),f.dc("click",function(){return e.form.reset()}),f.Hc(32,"NH\u1eacP L\u1ea0I"),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Vb()),2&t&&(f.Db(6),f.nc("formGroup",e.form),f.Db(5),f.nc("status",e.getConfig("id")?"danger":"basic"),f.Db(1),f.nc("ngIf",e.getConfig("id")),f.Db(5),f.nc("status",e.getConfig("name")?"danger":"basic"),f.Db(1),f.nc("ngIf",e.getConfig("name")),f.Db(5),f.nc("status",e.getConfig("total")?"danger":"basic"),f.Db(1),f.nc("ngIf",e.getConfig("total")),f.Db(4),f.nc("disabled",e.form.invalid))},directives:[g.o,g.q,g.n,h.z,h.o,h.g,h.b,g.G,h.n,h.f,a.n,h.s,g.p,g.l],encapsulation:2}),pt),yt=[{path:"",component:(mt=function(){function e(){t(this,e)}return n(e,[{key:"ngOnInit",value:function(){}}]),e}(),mt.\u0275fac=function(t){return new(t||mt)},mt.\u0275cmp=f.Kb({type:mt,selectors:[["ngx-supply"]],decls:3,vars:0,template:function(t,e){1&t&&(f.Wb(0,"nb-layout"),f.Wb(1,"nb-layout-column"),f.Rb(2,"router-outlet"),f.Vb(),f.Vb())},directives:[g.J,g.I,F.h],encapsulation:2}),mt),children:[{path:"",component:(dt=function(){function e(n,r,o){t(this,e),this.supplyService=n,this.router=r,this.route=o,this.settings={actions:{add:!1,edit:!1,delete:!1},columns:{id:{title:"ID",type:"string",filter:!0},name:{title:"T\xean v\u1eadt t\u01b0",type:"string",filter:!0},total:{title:"S\u1ed1 l\u01b0\u1ee3ng",type:"number",filter:!0}}},this.source=new u.a}return n(e,[{key:"ngOnInit",value:function(){var t=this;this.loadSrc(),this.route.queryParams.subscribe(function(e){null!=e.search&&t.onSearch(e.search)})}},{key:"loadSrc",value:function(){var t=this;this.supplyService.List.subscribe(function(e){t.source.load(e)})}},{key:"rowSelect",value:function(t){this.router.navigateByUrl("/home/supply/details/"+t.data.id)}},{key:"onSearch",value:function(t){t.trim(),this.source.setFilter([{field:"id",search:t}],!1)}}]),e}(),dt.\u0275fac=function(t){return new(t||dt)(f.Qb(w),f.Qb(F.c),f.Qb(F.a))},dt.\u0275cmp=f.Kb({type:dt,selectors:[["ngx-list-supplies"]],decls:5,vars:2,consts:[["accent","primary"],[3,"settings","source","userRowSelect"]],template:function(t,e){1&t&&(f.Wb(0,"nb-card",0),f.Wb(1,"nb-card-header"),f.Hc(2," DANH S\xc1CH V\u1eacT T\u01af "),f.Vb(),f.Wb(3,"nb-card-body"),f.Wb(4,"ng2-smart-table",1),f.dc("userRowSelect",function(t){return e.rowSelect(t)}),f.Vb(),f.Vb(),f.Vb()),2&t&&(f.Db(4),f.nc("settings",e.settings)("source",e.source))},directives:[g.o,g.q,g.n,u.b],encapsulation:2}),dt)},{path:"add",component:vt},{path:"details/:id",component:tt},{path:"update/:id",component:X},{path:"distribution/:id",component:O}]}],Wt=((ht=function e(){t(this,e)}).\u0275mod=f.Ob({type:ht}),ht.\u0275inj=f.Nb({factory:function(t){return new(t||ht)},imports:[[F.g.forChild(yt)],F.g]}),ht),Vt=s("vTDv"),Dt=s("CvZm"),It=((gt=function e(){t(this,e)}).\u0275mod=f.Ob({type:gt}),gt.\u0275inj=f.Nb({factory:function(t){return new(t||gt)},imports:[[a.c,Wt,g.r,g.F,u.c,g.H,g.m,g.i,g.pb,g.db,g.Y,g.z,Dt.a,g.k,h.h,h.u,g.P,Vt.a.forRoot(),g.M,g.fb.forRoot()]]}),gt)}}])}();