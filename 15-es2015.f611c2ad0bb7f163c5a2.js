(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"2dnn":function(e,r,t){"use strict";t.r(r),t.d(r,"UsersModule",function(){return be});var n=t("vTDv"),s=t("RS3s"),a=t("ofXK"),o=t("3Pt+"),i=t("Rb0e"),c=t("+NJU"),d=t("fXoL"),b=t("tyNb"),l=t("aceb");function u(e,r){1&e&&(d.Wb(0,"span"),d.Hc(1,"Name is required"),d.Vb())}function m(e,r){if(1&e&&(d.Wb(0,"span"),d.Hc(1),d.Vb()),2&e){const e=d.hc(3);d.Db(1),d.Jc(" Name at least ",null==e.frmUpdateUser.get("name").errors?null:e.frmUpdateUser.get("name").errors.minlength.requiredLength," characters ")}}function f(e,r){if(1&e&&(d.Wb(0,"span"),d.Hc(1),d.Vb()),2&e){const e=d.hc(3);d.Db(1),d.Jc(" Name at most ",null==e.frmUpdateUser.get("name").errors?null:e.frmUpdateUser.get("name").errors.maxlength.requiredLength," characters ")}}function p(e,r){if(1&e&&(d.Wb(0,"span",29),d.Fc(1,u,2,0,"span",30),d.Fc(2,m,2,1,"span",30),d.Fc(3,f,2,1,"span",30),d.Vb()),2&e){const e=d.hc(2);d.Db(1),d.nc("ngIf",e.frmUpdateUser.get("name").errors.required),d.Db(1),d.nc("ngIf",null==e.frmUpdateUser.get("name").errors?null:e.frmUpdateUser.get("name").errors.minlength),d.Db(1),d.nc("ngIf",null==e.frmUpdateUser.get("name").errors?null:e.frmUpdateUser.get("name").errors.maxlength)}}function h(e,r){1&e&&(d.Wb(0,"span"),d.Hc(1,"Birth is required"),d.Vb())}function g(e,r){if(1&e&&(d.Wb(0,"span",29),d.Fc(1,h,2,0,"span",30),d.Vb()),2&e){const e=d.hc(2);d.Db(1),d.nc("ngIf",e.frmUpdateUser.get("birth").errors.required)}}function U(e,r){1&e&&(d.Wb(0,"span"),d.Hc(1,"Password is required"),d.Vb())}function W(e,r){if(1&e&&(d.Wb(0,"span"),d.Hc(1),d.Vb()),2&e){const e=d.hc(3);d.Db(1),d.Jc(" Password at least ",null==e.frmUpdateUser.get("password").errors?null:e.frmUpdateUser.get("password").errors.minlength.requiredLength," characters ")}}function v(e,r){if(1&e&&(d.Wb(0,"span"),d.Hc(1),d.Vb()),2&e){const e=d.hc(3);d.Db(1),d.Jc(" Password at most ",null==e.frmUpdateUser.get("password").errors?null:e.frmUpdateUser.get("password").errors.maxlength.requiredLength," characters ")}}function V(e,r){1&e&&(d.Wb(0,"span"),d.Hc(1," Password is invalid "),d.Vb())}function D(e,r){if(1&e&&(d.Wb(0,"span",29),d.Fc(1,U,2,0,"span",30),d.Fc(2,W,2,1,"span",30),d.Fc(3,v,2,1,"span",30),d.Fc(4,V,2,0,"span",30),d.Vb()),2&e){const e=d.hc(2);d.Db(1),d.nc("ngIf",e.frmUpdateUser.get("password").errors.required),d.Db(1),d.nc("ngIf",null==e.frmUpdateUser.get("password").errors?null:e.frmUpdateUser.get("password").errors.minlength),d.Db(1),d.nc("ngIf",null==e.frmUpdateUser.get("password").errors?null:e.frmUpdateUser.get("password").errors.maxlength),d.Db(1),d.nc("ngIf",null==e.frmUpdateUser.get("password").errors?null:e.frmUpdateUser.get("password").errors.pattern)}}function I(e,r){1&e&&(d.Wb(0,"span"),d.Hc(1,"Phone is required"),d.Vb())}function H(e,r){1&e&&(d.Wb(0,"span"),d.Hc(1," Phone is invalid "),d.Vb())}function A(e,r){if(1&e&&(d.Wb(0,"span",29),d.Fc(1,I,2,0,"span",30),d.Fc(2,H,2,0,"span",30),d.Vb()),2&e){const e=d.hc(2);d.Db(1),d.nc("ngIf",e.frmUpdateUser.get("phone").errors.required),d.Db(1),d.nc("ngIf",null==e.frmUpdateUser.get("phone").errors?null:e.frmUpdateUser.get("phone").errors.pattern)}}function w(e,r){1&e&&(d.Wb(0,"span"),d.Hc(1," Email is invalid "),d.Vb())}function x(e,r){if(1&e&&(d.Wb(0,"span",29),d.Fc(1,w,2,0,"span",30),d.Vb()),2&e){const e=d.hc(2);d.Db(1),d.nc("ngIf",null==e.frmUpdateUser.get("email").errors?null:e.frmUpdateUser.get("email").errors.email)}}function y(e,r){if(1&e){const e=d.Xb();d.Wb(0,"nb-card",4),d.Wb(1,"nb-card-header"),d.Hc(2),d.Vb(),d.Wb(3,"nb-card-body"),d.Wb(4,"form",5),d.Wb(5,"div",6),d.Wb(6,"label",7),d.Hc(7,"H\u1ecd t\xean: "),d.Vb(),d.Wb(8,"div",8),d.Rb(9,"input",9),d.Fc(10,p,4,3,"span",10),d.Vb(),d.Vb(),d.Wb(11,"div",6),d.Wb(12,"label",11),d.Hc(13,"Gi\u1edbi t\xednh: "),d.Vb(),d.Wb(14,"div",12),d.Wb(15,"nb-radio-group",13),d.Wb(16,"nb-radio",14),d.Hc(17,"Nam"),d.Vb(),d.Wb(18,"nb-radio",14),d.Hc(19,"N\u1eef"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(20,"div",6),d.Wb(21,"label",15),d.Hc(22,"Ng\xe0y sinh: "),d.Vb(),d.Wb(23,"div",16),d.Rb(24,"input",17),d.Rb(25,"nb-datepicker",null,18),d.Fc(27,g,2,1,"span",10),d.Vb(),d.Vb(),d.Wb(28,"div",6),d.Wb(29,"label",19),d.Hc(30,"M\u1eadt kh\u1ea9u: "),d.Vb(),d.Wb(31,"div",8),d.Rb(32,"input",20),d.Fc(33,D,5,4,"span",10),d.Vb(),d.Vb(),d.Wb(34,"div",6),d.Wb(35,"label",21),d.Hc(36,"S\u0110T: "),d.Vb(),d.Wb(37,"div",8),d.Rb(38,"input",22),d.Fc(39,A,3,2,"span",10),d.Vb(),d.Vb(),d.Wb(40,"div",6),d.Wb(41,"label",23),d.Hc(42,"Email: "),d.Vb(),d.Wb(43,"div",8),d.Rb(44,"input",24),d.Fc(45,x,2,1,"span",10),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(46,"nb-card-footer"),d.Wb(47,"div",0),d.Wb(48,"div",25),d.Wb(49,"button",26),d.dc("click",function(){return d.xc(e),d.hc().updateUser()}),d.Hc(50,"C\u1eacP NH\u1eacT"),d.Vb(),d.Vb(),d.Wb(51,"div",27),d.Wb(52,"button",28),d.dc("click",function(){return d.xc(e),d.hc().resetForm()}),d.Hc(53,"NH\u1eacP L\u1ea0I"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&e){const e=r.ngIf,t=d.vc(26),n=d.hc();d.Db(2),d.Jc("C\u1eacP NH\u1eacT KH\xc1CH H\xc0NG ",e.id,""),d.Db(2),d.nc("formGroup",n.frmUpdateUser),d.Db(5),d.nc("status",n.frmUpdateUser.get("name").invalid&&n.frmUpdateUser.get("name").touched?"danger":"basic"),d.Db(1),d.nc("ngIf",n.frmUpdateUser.get("name").invalid&&n.frmUpdateUser.get("name").touched),d.Db(6),d.nc("value",!0),d.Db(2),d.nc("value",!1),d.Db(6),d.nc("nbDatepicker",t)("status",n.frmUpdateUser.get("birth").invalid&&n.frmUpdateUser.get("birth").touched?"danger":"basic"),d.Db(3),d.nc("ngIf",n.frmUpdateUser.get("birth").invalid&&n.frmUpdateUser.get("birth").touched),d.Db(5),d.nc("status",n.frmUpdateUser.get("password").invalid&&n.frmUpdateUser.get("password").touched?"danger":"basic"),d.Db(1),d.nc("ngIf",n.frmUpdateUser.get("password").invalid&&n.frmUpdateUser.get("password").touched),d.Db(5),d.nc("status",n.frmUpdateUser.get("phone").invalid&&n.frmUpdateUser.get("phone").touched?"danger":"basic"),d.Db(1),d.nc("ngIf",n.frmUpdateUser.get("phone").invalid&&n.frmUpdateUser.get("phone").touched),d.Db(5),d.nc("status",n.getConfig("email")?"danger":"basic"),d.Db(1),d.nc("ngIf",n.frmUpdateUser.get("email").invalid&&n.frmUpdateUser.get("email").touched),d.Db(4),d.nc("disabled",n.frmUpdateUser.invalid)}}function N(e,r){1&e&&(d.Wb(0,"nb-card",29),d.Wb(1,"nb-card-header"),d.Hc(2,"User does not exist"),d.Vb(),d.Vb())}let C=(()=>{class e{constructor(e,r,t,n,s,a){this.fb=e,this.userService=r,this.route=t,this.dialog=n,this.router=s,this.toast=a}ngOnInit(){this.route.paramMap.subscribe(e=>{const r=e.get("id");console.log(r),this.user$=this.userService.getByID(r)}),this.user$.subscribe(e=>{this.frmUpdateUser=this.fb.group({name:[e.name,[o.x.required,o.x.maxLength(50)]],password:[e.password,[o.x.required,o.x.minLength(6),o.x.maxLength(20),o.x.pattern("^[a-z0-9A-Z]{6,20}$")]],phone:[e.phone,[o.x.required,o.x.pattern(/(03|05|07|08|09|01[2|6|8|9])+([0-9]{8})\b/)]],gender:[e.gender,[o.x.required]],birth:[new Date(e.birth),[o.x.required]],email:[e.email,[o.x.email]]})})}update(){this.user$.subscribe(e=>{e.name=this.frmUpdateUser.get("name").value,e.birth=this.frmUpdateUser.get("birth").value,e.password=this.frmUpdateUser.get("password").value,e.phone=this.frmUpdateUser.get("phone").value,e.gender=this.frmUpdateUser.get("gender").value,e.email=this.frmUpdateUser.get("email").value,this.userService.updateCustomer(e).subscribe(r=>{this.toast.show("Update complete","UPDATE",{status:"success"}),this.router.navigateByUrl("/home/user/details/"+e.id)},e=>{this.toast.show(e.error,"Error update",{status:"danger"})})})}updateUser(){this.user$.subscribe(e=>{this.dialog.open(c.a,{context:{title:`C\u1eadp nh\u1eadt kh\xe1ch h\xe0ng ${e.id}?`}}).onClose.subscribe(e=>{e&&this.update()})})}resetForm(){this.user$.subscribe(e=>{this.frmUpdateUser.get("name").setValue(e.name),this.frmUpdateUser.get("birth").setValue(e.birth),this.frmUpdateUser.get("password").setValue(e.password),this.frmUpdateUser.get("phone").setValue(e.phone),this.frmUpdateUser.get("gender").setValue(e.gender),this.frmUpdateUser.get("email").setValue(e.email)})}getConfig(e){return this.frmUpdateUser.get(e).invalid&&this.frmUpdateUser.get(e).touched}}return e.\u0275fac=function(r){return new(r||e)(d.Qb(o.c),d.Qb(i.a),d.Qb(b.a),d.Qb(l.C),d.Qb(b.c),d.Qb(l.lb))},e.\u0275cmp=d.Kb({type:e,selectors:[["ngx-update-users"]],decls:6,vars:4,consts:[[1,"row"],[1,"col-md-12"],["status","success",4,"ngIf","ngIfElse"],["noUser",""],["status","success"],["novalidate","",3,"formGroup"],[1,"form-group","row"],["for","name",1,"label","col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text","formControlName","name","nbInput","","fullWidth","","id","name","placeholder","Name",3,"status"],["class","text-danger",4,"ngIf"],["for","gender",1,"label","col-sm-3","col-form-label"],["id","gender",1,"col-sm-9"],["formControlName","gender"],[3,"value"],["for","birth",1,"label","col-sm-3","col-form-label"],["id","birth",1,"col-sm-9"],["formControlName","birth","nbInput","","fullWidth","","placeholder","Birthday",3,"nbDatepicker","status"],["dateTimePicker",""],["for","pass",1,"label","col-sm-3","col-form-label"],["type","password","formControlName","password","nbInput","","fullWidth","","id","pass","placeholder","Password",3,"status"],["for","phone",1,"label","col-sm-3","col-form-label"],["type","tel","formControlName","phone","nbInput","","fullWidth","","id","phone","placeholder","Phone number",3,"status"],["for","email",1,"label","col-sm-3","col-form-label"],["type","email","formControlName","email","nbInput","","fullWidth","","id","email","placeholder","Email",3,"status"],[1,"col-md-4","col-12"],["nbButton","","fullWidth","","hero","","status","primary",3,"disabled","click"],[1,"offset-md-4","col-md-4","col-12"],["nbButton","","fullWidth","","hero","","status","danger",3,"click"],[1,"text-danger"],[4,"ngIf"]],template:function(e,r){if(1&e&&(d.Wb(0,"div",0),d.Wb(1,"div",1),d.Fc(2,y,54,16,"nb-card",2),d.ic(3,"async"),d.Vb(),d.Vb(),d.Fc(4,N,3,0,"ng-template",null,3,d.Gc)),2&e){const e=d.vc(5);d.Db(2),d.nc("ngIf",d.jc(3,2,r.user$))("ngIfElse",e)}},directives:[a.n,l.o,l.q,l.n,o.z,o.o,o.g,o.b,l.G,o.n,o.f,l.X,l.W,l.y,l.x,l.p,l.l],pipes:[a.b],encapsulation:2}),e})();var F=t("McNs");function q(e,r){if(1&e){const e=d.Xb();d.Wb(0,"nb-card-footer"),d.Wb(1,"div",11),d.Wb(2,"div",12),d.Wb(3,"button",13),d.dc("click",function(){return d.xc(e),d.hc(2).onUpdate()}),d.Rb(4,"i",14),d.Hc(5,"\u2003C\u1eadp nh\u1eadt th\xf4ng tin "),d.Vb(),d.Vb(),d.Wb(6,"div",15),d.Wb(7,"button",16),d.dc("click",function(){return d.xc(e),d.hc(2).onRemove()}),d.Rb(8,"i",17),d.Hc(9,"\u2003X\xf3a kh\xe1ch h\xe0ng"),d.Vb(),d.Vb(),d.Vb(),d.Vb()}}function R(e,r){if(1&e&&(d.Wb(0,"nb-card",2),d.Wb(1,"nb-card-header"),d.Hc(2),d.Vb(),d.Wb(3,"nb-card-body"),d.Wb(4,"nb-list"),d.Wb(5,"nb-list-item"),d.Wb(6,"div",3),d.Rb(7,"i",4),d.Hc(8," T\xean kh\xe1ch h\xe0ng: "),d.Vb(),d.Wb(9,"div",5),d.Hc(10),d.Vb(),d.Vb(),d.Wb(11,"nb-list-item"),d.Wb(12,"div",3),d.Rb(13,"i",6),d.Hc(14," Gi\u1edbi t\xednh: "),d.Vb(),d.Wb(15,"div",5),d.Hc(16),d.Vb(),d.Vb(),d.Wb(17,"nb-list-item"),d.Wb(18,"div",3),d.Rb(19,"i",7),d.Hc(20," Ng\xe0y sinh: "),d.Vb(),d.Wb(21,"div",5),d.Hc(22),d.ic(23,"date"),d.Vb(),d.Vb(),d.Wb(24,"nb-list-item"),d.Wb(25,"div",3),d.Rb(26,"i",8),d.Hc(27," S\u1ed1 di\u1ec7n tho\u1ea1i: "),d.Vb(),d.Wb(28,"div",5),d.Hc(29),d.Vb(),d.Vb(),d.Wb(30,"nb-list-item"),d.Wb(31,"div",3),d.Rb(32,"i",9),d.Hc(33," Email: "),d.Vb(),d.Wb(34,"div",5),d.Hc(35),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Fc(36,q,10,0,"nb-card-footer",10),d.Vb()),2&e){const e=d.hc();d.Db(2),d.Jc("Th\xf4ng tin kh\xe1ch h\xe0ng: ",e.customer.id,""),d.Db(8),d.Ic(e.customer.name),d.Db(6),d.Ic(e.customer.gender?"Nam":"N\u1eef"),d.Db(6),d.Ic(d.kc(23,7,e.customer.birth,"mediumDate")),d.Db(7),d.Ic(e.customer.phone),d.Db(6),d.Ic(e.customer.email),d.Db(1),d.nc("ngIf",e.canUpdate)}}function k(e,r){1&e&&(d.Wb(0,"nb-card",18),d.Wb(1,"nb-card-header"),d.Hc(2,"Customer does not exist"),d.Vb(),d.Vb())}let P=(()=>{class e{constructor(e,r,t,n,s){this.route=e,this.customerService=r,this.dialog=t,this.router=n,this.authService=s}ngOnInit(){this.route.paramMap.subscribe(e=>{const r=e.get("id");this.customerService.getByID(r).subscribe(e=>this.customer=e)}),this.authService.getToken().subscribe(e=>{this.canUpdate="ADMIN"==e.getPayload().role||"MANAGER"==e.getPayload().role})}onRemove(){this.dialog.open(c.a,{context:{title:"Are you want to remove user ?",content:"User "+this.customer.id}}).onClose.subscribe(e=>{e&&this.router.navigateByUrl("/home/user")})}onUpdate(){this.router.navigateByUrl("/home/user/update/"+this.customer.id)}}return e.\u0275fac=function(r){return new(r||e)(d.Qb(b.a),d.Qb(i.a),d.Qb(l.C),d.Qb(b.c),d.Qb(F.d))},e.\u0275cmp=d.Kb({type:e,selectors:[["ngx-detail-users"]],decls:3,vars:2,consts:[["status","success",4,"ngIf","ngIfElse"],["noCustomer",""],["status","success"],[1,"col-4"],[1,"fas","fa-user"],[1,"col-6"],[1,"fas","fa-venus-mars"],[1,"fas","fa-birthday-cake"],[1,"fas","fa-phone"],[1,"fas","fa-envelope"],[4,"ngIf"],[1,"row"],[1,"col-md-4","col-12"],["hero","","fullWidth","","nbButton","","shape","semi-round","status","info",3,"click"],[1,"fas","fa-edit"],[1,"offset-md-4","col-md-4","col-12"],["hero","","fullWidth","","nbButton","","shape","semi-round","status","danger",3,"click"],[1,"fas","fa-user-times"],["status","danger"]],template:function(e,r){if(1&e&&(d.Fc(0,R,37,10,"nb-card",0),d.Fc(1,k,3,0,"ng-template",null,1,d.Gc)),2&e){const e=d.vc(2);d.nc("ngIf",null!=r.customer)("ngIfElse",e)}},directives:[a.n,l.o,l.q,l.n,l.N,l.O,l.p,l.l],pipes:[a.e],encapsulation:2}),e})();function S(e,r){1&e&&(d.Wb(0,"span"),d.Hc(1,"ID is required"),d.Vb())}function E(e,r){if(1&e&&(d.Wb(0,"span"),d.Hc(1),d.Vb()),2&e){const e=d.hc(2);d.Db(1),d.Jc(" User ID at least ",null==e.formAddUser.get("id").errors?null:e.formAddUser.get("id").errors.minlength.requiredLength," characters ")}}function L(e,r){if(1&e&&(d.Wb(0,"span"),d.Hc(1),d.Vb()),2&e){const e=d.hc(2);d.Db(1),d.Jc(" User ID at most ",null==e.formAddUser.get("id").errors?null:e.formAddUser.get("id").errors.maxlength.requiredLength," characters ")}}function M(e,r){1&e&&(d.Wb(0,"span"),d.Hc(1," User ID is invalid "),d.Vb())}function Q(e,r){if(1&e&&(d.Wb(0,"span",28),d.Fc(1,S,2,0,"span",29),d.Fc(2,E,2,1,"span",29),d.Fc(3,L,2,1,"span",29),d.Fc(4,M,2,0,"span",29),d.Vb()),2&e){const e=d.hc();d.Db(1),d.nc("ngIf",e.formAddUser.get("id").errors.required),d.Db(1),d.nc("ngIf",null==e.formAddUser.get("id").errors?null:e.formAddUser.get("id").errors.minlength),d.Db(1),d.nc("ngIf",null==e.formAddUser.get("id").errors?null:e.formAddUser.get("id").errors.maxlength),d.Db(1),d.nc("ngIf",null==e.formAddUser.get("id").errors?null:e.formAddUser.get("id").errors.pattern)}}function G(e,r){1&e&&(d.Wb(0,"span"),d.Hc(1,"Name is required"),d.Vb())}function T(e,r){if(1&e&&(d.Wb(0,"span"),d.Hc(1),d.Vb()),2&e){const e=d.hc(2);d.Db(1),d.Jc(" Name at least ",null==e.formAddUser.get("name").errors?null:e.formAddUser.get("name").errors.minlength.requiredLength," characters ")}}function B(e,r){if(1&e&&(d.Wb(0,"span"),d.Hc(1),d.Vb()),2&e){const e=d.hc(2);d.Db(1),d.Jc(" Name at most ",null==e.formAddUser.get("name").errors?null:e.formAddUser.get("name").errors.maxlength.requiredLength," characters ")}}function J(e,r){if(1&e&&(d.Wb(0,"span",28),d.Fc(1,G,2,0,"span",29),d.Fc(2,T,2,1,"span",29),d.Fc(3,B,2,1,"span",29),d.Vb()),2&e){const e=d.hc();d.Db(1),d.nc("ngIf",e.formAddUser.get("name").errors.required),d.Db(1),d.nc("ngIf",null==e.formAddUser.get("name").errors?null:e.formAddUser.get("name").errors.minlength),d.Db(1),d.nc("ngIf",null==e.formAddUser.get("name").errors?null:e.formAddUser.get("name").errors.maxlength)}}function O(e,r){1&e&&(d.Wb(0,"span"),d.Hc(1,"Birth is required"),d.Vb())}function $(e,r){if(1&e&&(d.Wb(0,"span",28),d.Fc(1,O,2,0,"span",29),d.Vb()),2&e){const e=d.hc();d.Db(1),d.nc("ngIf",e.formAddUser.get("birth").errors.required)}}function K(e,r){1&e&&(d.Wb(0,"span"),d.Hc(1,"Password is required"),d.Vb())}function X(e,r){if(1&e&&(d.Wb(0,"span"),d.Hc(1),d.Vb()),2&e){const e=d.hc(2);d.Db(1),d.Jc(" Password at least ",null==e.formAddUser.get("password").errors?null:e.formAddUser.get("password").errors.minlength.requiredLength," characters ")}}function z(e,r){if(1&e&&(d.Wb(0,"span"),d.Hc(1),d.Vb()),2&e){const e=d.hc(2);d.Db(1),d.Jc(" Password at most ",null==e.formAddUser.get("password").errors?null:e.formAddUser.get("password").errors.maxlength.requiredLength," characters ")}}function j(e,r){1&e&&(d.Wb(0,"span"),d.Hc(1," Password is invalid "),d.Vb())}function Z(e,r){if(1&e&&(d.Wb(0,"span",28),d.Fc(1,K,2,0,"span",29),d.Fc(2,X,2,1,"span",29),d.Fc(3,z,2,1,"span",29),d.Fc(4,j,2,0,"span",29),d.Vb()),2&e){const e=d.hc();d.Db(1),d.nc("ngIf",e.formAddUser.get("password").errors.required),d.Db(1),d.nc("ngIf",null==e.formAddUser.get("password").errors?null:e.formAddUser.get("password").errors.minlength),d.Db(1),d.nc("ngIf",null==e.formAddUser.get("password").errors?null:e.formAddUser.get("password").errors.maxlength),d.Db(1),d.nc("ngIf",null==e.formAddUser.get("password").errors?null:e.formAddUser.get("password").errors.pattern)}}function Y(e,r){1&e&&(d.Wb(0,"span"),d.Hc(1,"Phone is required"),d.Vb())}function _(e,r){1&e&&(d.Wb(0,"span"),d.Hc(1," Phone is invalid "),d.Vb())}function ee(e,r){if(1&e&&(d.Wb(0,"span",28),d.Fc(1,Y,2,0,"span",29),d.Fc(2,_,2,0,"span",29),d.Vb()),2&e){const e=d.hc();d.Db(1),d.nc("ngIf",e.formAddUser.get("phone").errors.required),d.Db(1),d.nc("ngIf",null==e.formAddUser.get("phone").errors?null:e.formAddUser.get("phone").errors.pattern)}}function re(e,r){1&e&&(d.Wb(0,"span"),d.Hc(1," Email is invalid "),d.Vb())}function te(e,r){if(1&e&&(d.Wb(0,"span",28),d.Fc(1,re,2,0,"span",29),d.Vb()),2&e){const e=d.hc();d.Db(1),d.nc("ngIf",null==e.formAddUser.get("email").errors?null:e.formAddUser.get("email").errors.email)}}let ne=(()=>{class e{constructor(e,r,t,n,s){this.customerService=e,this.fb=r,this.router=t,this.toast=n,this.dialog=s}ngOnInit(){this.formAddUser=this.fb.group({id:["",[o.x.required,o.x.minLength(6),o.x.maxLength(20),o.x.pattern("^[a-z0-9A-Z]{6,20}$")]],name:["",[o.x.required,o.x.maxLength(50)]],password:["",[o.x.required,o.x.minLength(6),o.x.maxLength(20),o.x.pattern("^[a-z0-9A-Z]{6,20}$")]],phone:["",[o.x.required,o.x.pattern(/(03|05|07|08|09|01[2|6|8|9])+([0-9]{8})\b/)]],gender:[!0,[o.x.required]],birth:["",[o.x.required]],email:["",[o.x.email]]})}addUser(){this.customerService.addCustomer({id:this.formAddUser.get("id").value,name:this.formAddUser.get("name").value,birth:this.formAddUser.get("birth").value,gender:this.formAddUser.get("gender").value,password:this.formAddUser.get("password").value,phone:this.formAddUser.get("phone").value,email:this.formAddUser.get("email").value}).subscribe(e=>{this.toast.show("ADD CUSTOMER","Add new success",{status:"success"}),this.router.navigateByUrl("/home/user")},e=>{this.dialog.open(c.a,{context:{title:"ERROR CREATE!!!",content:e.error}})})}resetForm(){this.formAddUser.reset()}getConfig(e){return this.formAddUser.get(e).invalid&&this.formAddUser.get(e).touched}}return e.\u0275fac=function(r){return new(r||e)(d.Qb(i.a),d.Qb(o.c),d.Qb(b.c),d.Qb(l.lb),d.Qb(l.C))},e.\u0275cmp=d.Kb({type:e,selectors:[["ngx-add-users"]],decls:62,vars:17,consts:[[1,"row"],[1,"col-md-12"],["novalidate","",3,"formGroup"],[1,"form-group","row"],["for","UserId",1,"label","col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text","formControlName","id","nbInput","","fullWidth","","id","UserId","placeholder","User ID",3,"status"],["class","text-danger",4,"ngIf"],["for","name",1,"label","col-sm-3","col-form-label"],["type","text","formControlName","name","nbInput","","fullWidth","","id","name","placeholder","Name",3,"status"],["for","gender",1,"label","col-sm-3","col-form-label"],["id","gender",1,"col-sm-9"],["formControlName","gender"],[3,"value"],["for","birth",1,"label","col-sm-3","col-form-label"],["id","birth",1,"col-sm-9"],["formControlName","birth","nbInput","","fullWidth","","placeholder","Birthday",3,"nbDatepicker","status"],["dateTimePicker",""],["for","pass",1,"label","col-sm-3","col-form-label"],["type","password","formControlName","password","nbInput","","fullWidth","","id","pass","placeholder","Password",3,"status"],["for","phone",1,"label","col-sm-3","col-form-label"],["type","tel","formControlName","phone","nbInput","","fullWidth","","id","phone","placeholder","Phone number",3,"status"],["for","email",1,"label","col-sm-3","col-form-label"],["type","email","formControlName","email","nbInput","","fullWidth","","id","email","placeholder","Email",3,"status"],[1,"col-md-4","col-12"],["fullWidth","","nbButton","","hero","","status","primary",3,"disabled","click"],[1,"offset-md-4","col-md-4","col-12"],["fullWidth","","nbButton","","hero","","status","danger",3,"click"],[1,"text-danger"],[4,"ngIf"]],template:function(e,r){if(1&e&&(d.Wb(0,"div",0),d.Wb(1,"div",1),d.Wb(2,"nb-card"),d.Wb(3,"nb-card-header"),d.Hc(4,"TH\xcaM KH\xc1CH H\xc0NG"),d.Vb(),d.Wb(5,"nb-card-body"),d.Wb(6,"form",2),d.Wb(7,"div",3),d.Wb(8,"label",4),d.Hc(9,"M\xe3 s\u1ed1 kh\xe1ch h\xe0ng: "),d.Vb(),d.Wb(10,"div",5),d.Rb(11,"input",6),d.Fc(12,Q,5,4,"span",7),d.Vb(),d.Vb(),d.Wb(13,"div",3),d.Wb(14,"label",8),d.Hc(15,"H\u1ecd t\xean: "),d.Vb(),d.Wb(16,"div",5),d.Rb(17,"input",9),d.Fc(18,J,4,3,"span",7),d.Vb(),d.Vb(),d.Wb(19,"div",3),d.Wb(20,"label",10),d.Hc(21,"Gi\u1edbi t\xednh: "),d.Vb(),d.Wb(22,"div",11),d.Wb(23,"nb-radio-group",12),d.Wb(24,"nb-radio",13),d.Hc(25,"Nam"),d.Vb(),d.Wb(26,"nb-radio",13),d.Hc(27,"N\u1eef"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(28,"div",3),d.Wb(29,"label",14),d.Hc(30,"Ng\xe0y sinh: "),d.Vb(),d.Wb(31,"div",15),d.Rb(32,"input",16),d.Rb(33,"nb-datepicker",null,17),d.Fc(35,$,2,1,"span",7),d.Vb(),d.Vb(),d.Wb(36,"div",3),d.Wb(37,"label",18),d.Hc(38,"M\u1eadt kh\u1ea9u: "),d.Vb(),d.Wb(39,"div",5),d.Rb(40,"input",19),d.Fc(41,Z,5,4,"span",7),d.Vb(),d.Vb(),d.Wb(42,"div",3),d.Wb(43,"label",20),d.Hc(44,"S\u0110T: "),d.Vb(),d.Wb(45,"div",5),d.Rb(46,"input",21),d.Fc(47,ee,3,2,"span",7),d.Vb(),d.Vb(),d.Wb(48,"div",3),d.Wb(49,"label",22),d.Hc(50,"Email: "),d.Vb(),d.Wb(51,"div",5),d.Rb(52,"input",23),d.Fc(53,te,2,1,"span",7),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(54,"nb-card-footer"),d.Wb(55,"div",0),d.Wb(56,"div",24),d.Wb(57,"button",25),d.dc("click",function(){return r.addUser()}),d.Hc(58,"TH\xcaM M\u1edaI"),d.Vb(),d.Vb(),d.Wb(59,"div",26),d.Wb(60,"button",27),d.dc("click",function(){return r.resetForm()}),d.Hc(61,"NH\u1eacP L\u1ea0I"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()),2&e){const e=d.vc(34);d.Db(6),d.nc("formGroup",r.formAddUser),d.Db(5),d.nc("status",r.getConfig("id")?"danger":"basic"),d.Db(1),d.nc("ngIf",r.formAddUser.get("id").invalid&&(null==r.formAddUser.controls.id?null:r.formAddUser.controls.id.touched)),d.Db(5),d.nc("status",r.getConfig("name")?"danger":"basic"),d.Db(1),d.nc("ngIf",r.formAddUser.get("name").invalid&&r.formAddUser.get("name").touched),d.Db(6),d.nc("value",!0),d.Db(2),d.nc("value",!1),d.Db(6),d.nc("nbDatepicker",e)("status",r.getConfig("birth")?"danger":"basic"),d.Db(3),d.nc("ngIf",r.formAddUser.get("birth").invalid&&r.formAddUser.get("birth").touched),d.Db(5),d.nc("status",r.getConfig("password")?"danger":"basic"),d.Db(1),d.nc("ngIf",r.formAddUser.get("password").invalid&&r.formAddUser.get("password").touched),d.Db(5),d.nc("status",r.getConfig("phone")?"danger":"basic"),d.Db(1),d.nc("ngIf",r.formAddUser.get("phone").invalid&&r.formAddUser.get("phone").touched),d.Db(5),d.nc("status",r.getConfig("email")?"danger":"basic"),d.Db(1),d.nc("ngIf",r.formAddUser.get("email").invalid&&r.formAddUser.get("email").touched),d.Db(4),d.nc("disabled",!r.formAddUser.valid)}},directives:[l.o,l.q,l.n,o.z,o.o,o.g,o.b,l.G,o.n,o.f,a.n,l.X,l.W,l.y,l.x,l.p,l.l],encapsulation:2}),e})(),se=(()=>{class e{constructor(e,r,t,n){this.customerService=e,this.router=r,this.dialog=t,this.route=n,this.settings={actions:{add:!1,edit:!1,delete:!1},columns:{id:{title:"ID",type:"string",filter:!0},name:{title:"T\xean kh\xe1ch h\xe0ng",type:"string",filter:!0},birth:{title:"Ng\xe0y sinh",type:"date",valuePrepareFunction:e=>{var r=new Date(e);return new a.e("en-EN").transform(r,"dd/MM/yyyy")},filter:!0},phone:{title:"SDT",type:"string",filter:!0},gender:{title:"Gi\u1edbi t\xednh",type:"boolean",valuePrepareFunction:e=>e?"Nam":"N\u1eef",filter:{type:"list",config:{selectText:"Select",list:[{value:!0,title:"Nam"},{value:!1,title:"N\u1eef"}]}}},email:{title:"Email",type:"string",filter:!0}}},this.source=new s.a}ngOnInit(){this.loadSrc(),this.route.queryParams.subscribe(e=>{null!=e.search&&this.onSearch(e.search)})}loadSrc(){this.source.reset(),this.customerService.ListCustomer.subscribe(e=>{this.source.load(e)})}customerSelect(e){this.router.navigateByUrl("/home/user/details/"+e.data.id)}onDeleteConfirm(e){var r;this.dialog.open(c.a,{context:{title:"Are you want to remove this customer?",content:"Customer "+(null===(r=e.data)||void 0===r?void 0:r.id)}}).onClose.subscribe(r=>{r?e.confirm.resolve():e.confirm.reject()})}onSearch(e){e=e.trim(),this.source.setFilter([{field:"id",search:e}],!1)}}return e.\u0275fac=function(r){return new(r||e)(d.Qb(i.a),d.Qb(b.c),d.Qb(l.C),d.Qb(b.a))},e.\u0275cmp=d.Kb({type:e,selectors:[["ngx-list-users"]],decls:5,vars:2,consts:[["accent","primary"],[3,"settings","source","deleteConfirm","userRowSelect"]],template:function(e,r){1&e&&(d.Wb(0,"nb-card",0),d.Wb(1,"nb-card-header"),d.Hc(2," DANH S\xc1CH KH\xc1CH H\xc0NG "),d.Vb(),d.Wb(3,"nb-card-body"),d.Wb(4,"ng2-smart-table",1),d.dc("deleteConfirm",function(e){return r.onDeleteConfirm(e)})("userRowSelect",function(e){return r.customerSelect(e)}),d.Vb(),d.Vb(),d.Vb()),2&e&&(d.Db(4),d.nc("settings",r.settings)("source",r.source))},directives:[l.o,l.q,l.n,s.b],encapsulation:2}),e})(),ae=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=d.Kb({type:e,selectors:[["ngx-users"]],decls:3,vars:0,template:function(e,r){1&e&&(d.Wb(0,"nb-layout"),d.Wb(1,"nb-layout-column"),d.Rb(2,"router-outlet"),d.Vb(),d.Vb())},directives:[l.J,l.I,b.h],encapsulation:2}),e})();var oe=t("P+IX");const ie=[{path:"",component:ae,children:[{path:"",component:se},{path:"add",canActivate:[oe.a],data:{roles:["ADMIN","MANAGER"]},component:ne},{path:"details/:id",component:P},{path:"update/:id",canActivate:[oe.a],data:{roles:["ADMIN","MANAGER"]},component:C}]}];let ce=(()=>{class e{}return e.\u0275mod=d.Ob({type:e}),e.\u0275inj=d.Nb({factory:function(r){return new(r||e)},imports:[[b.g.forChild(ie)],b.g]}),e})();var de=t("CvZm");let be=(()=>{class e{}return e.\u0275mod=d.Ob({type:e}),e.\u0275inj=d.Nb({factory:function(r){return new(r||e)},imports:[[a.c,ce,l.r,l.F,s.c,l.H,l.m,l.i,l.pb,l.db,l.Y,l.z,de.a,l.k,o.h,o.u,l.P,n.a.forRoot(),l.M,l.fb.forRoot()]]}),e})()}}]);