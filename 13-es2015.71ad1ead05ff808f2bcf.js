(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{OlZc:function(t,e,n){"use strict";n.r(e),n.d(e,"StaffModule",function(){return ct});var a=n("vTDv"),r=n("3Pt+"),s=n("ofXK"),i=n("+NJU"),f=n("tk/3"),o=n("CS83"),c=n("fXoL"),d=n("McNs");let b=(()=>{class t extends o.a{constructor(t,e){super("Staff"),this.http=t,this.authService=e}setHeader(){this.authService.onTokenChange().subscribe(t=>{this.header=(new f.d).set("Authorization","Bearer "+t.getValue())})}get ListStaff(){return this.setHeader(),this.http.get(this.Root_URL,{headers:this.header})}getByID(t){return this.setHeader(),this.http.get(this.Root_URL+t,{headers:this.header})}addStaff(t){return this.setHeader(),this.http.post(this.Root_URL+"add",t,{headers:this.header,responseType:"text"})}updateStaff(t){return this.setHeader(),this.http.post(this.Root_URL+"update",t,{headers:this.header,responseType:"text"})}removeStaff(t){return this.setHeader(),this.http.delete(this.Root_URL+t,{headers:this.header,responseType:"text"})}}return t.\u0275fac=function(e){return new(e||t)(c.ac(f.a),c.ac(d.d))},t.\u0275prov=c.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var l=n("tyNb"),u=n("aceb");function p(t,e){1&t&&(c.Wb(0,"span"),c.Hc(1,"ID is required"),c.Vb())}function h(t,e){if(1&t&&(c.Wb(0,"span"),c.Hc(1),c.Vb()),2&t){const t=c.hc(2);c.Db(1),c.Jc(" Staff ID at least ",null==t.formAddStaff.get("id").errors?null:t.formAddStaff.get("id").errors.minlength.requiredLength," characters ")}}function m(t,e){if(1&t&&(c.Wb(0,"span"),c.Hc(1),c.Vb()),2&t){const t=c.hc(2);c.Db(1),c.Jc(" Staff ID at most ",null==t.formAddStaff.get("id").errors?null:t.formAddStaff.get("id").errors.maxlength.requiredLength," characters ")}}function g(t,e){1&t&&(c.Wb(0,"span"),c.Hc(1," Staff ID is invalid "),c.Vb())}function v(t,e){if(1&t&&(c.Wb(0,"span",34),c.Fc(1,p,2,0,"span",35),c.Fc(2,h,2,1,"span",35),c.Fc(3,m,2,1,"span",35),c.Fc(4,g,2,0,"span",35),c.Vb()),2&t){const t=c.hc();c.Db(1),c.nc("ngIf",t.formAddStaff.get("id").errors.required),c.Db(1),c.nc("ngIf",null==t.formAddStaff.get("id").errors?null:t.formAddStaff.get("id").errors.minlength),c.Db(1),c.nc("ngIf",null==t.formAddStaff.get("id").errors?null:t.formAddStaff.get("id").errors.maxlength),c.Db(1),c.nc("ngIf",null==t.formAddStaff.get("id").errors?null:t.formAddStaff.get("id").errors.pattern)}}function S(t,e){1&t&&(c.Wb(0,"span"),c.Hc(1,"Name is required"),c.Vb())}function W(t,e){if(1&t&&(c.Wb(0,"span"),c.Hc(1),c.Vb()),2&t){const t=c.hc(2);c.Db(1),c.Jc(" Name at least ",null==t.formAddStaff.get("name").errors?null:t.formAddStaff.get("name").errors.minlength.requiredLength," characters ")}}function V(t,e){if(1&t&&(c.Wb(0,"span"),c.Hc(1),c.Vb()),2&t){const t=c.hc(2);c.Db(1),c.Jc(" Name at most ",null==t.formAddStaff.get("name").errors?null:t.formAddStaff.get("name").errors.maxlength.requiredLength," characters ")}}function D(t,e){if(1&t&&(c.Wb(0,"span",34),c.Fc(1,S,2,0,"span",35),c.Fc(2,W,2,1,"span",35),c.Fc(3,V,2,1,"span",35),c.Vb()),2&t){const t=c.hc();c.Db(1),c.nc("ngIf",t.formAddStaff.get("name").errors.required),c.Db(1),c.nc("ngIf",null==t.formAddStaff.get("name").errors?null:t.formAddStaff.get("name").errors.minlength),c.Db(1),c.nc("ngIf",null==t.formAddStaff.get("name").errors?null:t.formAddStaff.get("name").errors.maxlength)}}function H(t,e){1&t&&(c.Wb(0,"span"),c.Hc(1,"Birth is required"),c.Vb())}function I(t,e){if(1&t&&(c.Wb(0,"span",34),c.Fc(1,H,2,0,"span",35),c.Vb()),2&t){const t=c.hc();c.Db(1),c.nc("ngIf",t.formAddStaff.get("birth").errors.required)}}function A(t,e){1&t&&(c.Wb(0,"span"),c.Hc(1,"Password is required"),c.Vb())}function w(t,e){if(1&t&&(c.Wb(0,"span"),c.Hc(1),c.Vb()),2&t){const t=c.hc(2);c.Db(1),c.Jc(" Password at least ",null==t.formAddStaff.get("password").errors?null:t.formAddStaff.get("password").errors.minlength.requiredLength," characters ")}}function x(t,e){if(1&t&&(c.Wb(0,"span"),c.Hc(1),c.Vb()),2&t){const t=c.hc(2);c.Db(1),c.Jc(" Password at most ",null==t.formAddStaff.get("password").errors?null:t.formAddStaff.get("password").errors.maxlength.requiredLength," characters ")}}function U(t,e){1&t&&(c.Wb(0,"span"),c.Hc(1," Password is invalid "),c.Vb())}function N(t,e){if(1&t&&(c.Wb(0,"span",34),c.Fc(1,A,2,0,"span",35),c.Fc(2,w,2,1,"span",35),c.Fc(3,x,2,1,"span",35),c.Fc(4,U,2,0,"span",35),c.Vb()),2&t){const t=c.hc();c.Db(1),c.nc("ngIf",t.formAddStaff.get("password").errors.required),c.Db(1),c.nc("ngIf",null==t.formAddStaff.get("password").errors?null:t.formAddStaff.get("password").errors.minlength),c.Db(1),c.nc("ngIf",null==t.formAddStaff.get("password").errors?null:t.formAddStaff.get("password").errors.maxlength),c.Db(1),c.nc("ngIf",null==t.formAddStaff.get("password").errors?null:t.formAddStaff.get("password").errors.pattern)}}function y(t,e){1&t&&(c.Wb(0,"span"),c.Hc(1,"Phone is required"),c.Vb())}function F(t,e){1&t&&(c.Wb(0,"span"),c.Hc(1," Phone is invalid "),c.Vb())}function C(t,e){if(1&t&&(c.Wb(0,"span",34),c.Fc(1,y,2,0,"span",35),c.Fc(2,F,2,0,"span",35),c.Vb()),2&t){const t=c.hc();c.Db(1),c.nc("ngIf",t.formAddStaff.get("phone").errors.required),c.Db(1),c.nc("ngIf",null==t.formAddStaff.get("phone").errors?null:t.formAddStaff.get("phone").errors.pattern)}}function R(t,e){1&t&&(c.Wb(0,"span"),c.Hc(1," Email is invalid "),c.Vb())}function q(t,e){if(1&t&&(c.Wb(0,"span",34),c.Fc(1,R,2,0,"span",35),c.Vb()),2&t){const t=c.hc();c.Db(1),c.nc("ngIf",null==t.formAddStaff.get("email").errors?null:t.formAddStaff.get("email").errors.email)}}function k(t,e){1&t&&(c.Wb(0,"span",34),c.Hc(1," Permission is required "),c.Vb())}let P=(()=>{class t{constructor(t,e,n,a){this.staffService=t,this.fb=e,this.router=n,this.dialog=a,this.listRoles=[{value:"STAFF",name:"Nh\xe2n vi\xean"},{value:"ADMIN",name:"Qu\u1ea3n l\xfd"},{value:"WAREHOUSE",name:"Nh\xe2n vi\xean kho"},{value:"MANAGER",name:"Qu\u1ea3n l\xfd"}]}ngOnInit(){this.formAddStaff=this.fb.group({id:["",[r.x.required,r.x.minLength(6),r.x.maxLength(20),r.x.pattern("^[a-z0-9A-Z]{6,20}$")]],name:["",[r.x.required,r.x.maxLength(50)]],password:["",[r.x.required,r.x.minLength(6),r.x.maxLength(20),r.x.pattern("^[a-z0-9A-Z]{6,20}$")]],phone:["",[r.x.required,r.x.pattern(/(03|05|07|08|09|01[2|6|8|9])+([0-9]{8})\b/)]],gender:[!0,[r.x.required]],birth:["",[r.x.required]],permission:["",[r.x.required]],email:[null,[r.x.email]]})}addStaff(){this.staffService.addStaff({id:this.formAddStaff.get("id").value,name:this.formAddStaff.get("name").value,password:this.formAddStaff.get("password").value,phone:this.formAddStaff.get("phone").value,gender:this.formAddStaff.get("gender").value,birth:this.formAddStaff.get("birth").value,permissionID:this.formAddStaff.get("permission").value,email:this.formAddStaff.get("email").value}).subscribe(t=>{this.router.navigateByUrl("/home/staff/details/"+this.formAddStaff.get("id").value)},t=>{this.dialog.open(i.a,{context:{title:"Error when create",content:t.error}})})}resetForm(t){t.preventDefault(),this.formAddStaff.reset()}getConfig(t){return this.formAddStaff.get(t).invalid&&this.formAddStaff.get(t).touched}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(b),c.Qb(r.c),c.Qb(l.c),c.Qb(u.C))},t.\u0275cmp=c.Kb({type:t,selectors:[["ngx-add-staff"]],decls:76,vars:19,consts:[[1,"row"],[1,"col-md-12"],["novalidate","",3,"formGroup"],[1,"form-group","row"],["for","StaffId",1,"label","col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text","formControlName","id","nbInput","","fullWidth","","id","StaffId","placeholder","Staff ID",3,"status"],["class","text-danger",4,"ngIf"],["for","name",1,"label","col-sm-3","col-form-label"],["type","text","formControlName","name","nbInput","","fullWidth","","id","name","placeholder","Name",3,"status"],["for","gender",1,"label","col-sm-3","col-form-label"],["id","gender",1,"col-sm-9"],["formControlName","gender"],[3,"value"],["for","birth",1,"label","col-sm-3","col-form-label"],["id","birth",1,"col-sm-9"],["formControlName","birth","nbInput","","fullWidth","","placeholder","Birthday",3,"nbDatepicker","status"],["dateTimePicker",""],["for","pass",1,"label","col-sm-3","col-form-label"],["type","password","formControlName","password","nbInput","","fullWidth","","id","pass","placeholder","Password",3,"status"],["for","phone",1,"label","col-sm-3","col-form-label"],["type","tel","formControlName","phone","nbInput","","fullWidth","","id","phone","placeholder","Phone number",3,"status"],["for","email",1,"label","col-sm-3","col-form-label"],["type","email","formControlName","email","nbInput","","fullWidth","","id","email","placeholder","Email",3,"status"],["for","permission",1,"label","col-sm-3","col-form-label"],["formControlName","permission","placeholder","Permission","shape","semi-round","id","permission",3,"status"],["value","STAFF"],["value","ADMIN"],["value","WAREHOUSE"],["value","MANAGER"],[1,"col-md-4","col-12"],["nbButton","","fullWidth","","hero","","status","primary",3,"disabled","click"],[1,"offset-md-4","col-md-4","col-12"],["nbButton","","fullWidth","","hero","","status","danger",3,"click"],[1,"text-danger"],[4,"ngIf"]],template:function(t,e){if(1&t&&(c.Wb(0,"div",0),c.Wb(1,"div",1),c.Wb(2,"nb-card"),c.Wb(3,"nb-card-header"),c.Hc(4,"TH\xcaM NH\xc2N VI\xcaN"),c.Vb(),c.Wb(5,"nb-card-body"),c.Wb(6,"form",2),c.Wb(7,"div",3),c.Wb(8,"label",4),c.Hc(9,"M\xe3 s\u1ed1 nh\xe2n vi\xean: "),c.Vb(),c.Wb(10,"div",5),c.Rb(11,"input",6),c.Fc(12,v,5,4,"span",7),c.Vb(),c.Vb(),c.Wb(13,"div",3),c.Wb(14,"label",8),c.Hc(15,"H\u1ecd t\xean: "),c.Vb(),c.Wb(16,"div",5),c.Rb(17,"input",9),c.Fc(18,D,4,3,"span",7),c.Vb(),c.Vb(),c.Wb(19,"div",3),c.Wb(20,"label",10),c.Hc(21,"Gi\u1edbi t\xednh: "),c.Vb(),c.Wb(22,"div",11),c.Wb(23,"nb-radio-group",12),c.Wb(24,"nb-radio",13),c.Hc(25,"Nam"),c.Vb(),c.Wb(26,"nb-radio",13),c.Hc(27,"N\u1eef"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(28,"div",3),c.Wb(29,"label",14),c.Hc(30,"Ng\xe0y sinh: "),c.Vb(),c.Wb(31,"div",15),c.Rb(32,"input",16),c.Rb(33,"nb-datepicker",null,17),c.Fc(35,I,2,1,"span",7),c.Vb(),c.Vb(),c.Wb(36,"div",3),c.Wb(37,"label",18),c.Hc(38,"M\u1eadt kh\u1ea9u: "),c.Vb(),c.Wb(39,"div",5),c.Rb(40,"input",19),c.Fc(41,N,5,4,"span",7),c.Vb(),c.Vb(),c.Wb(42,"div",3),c.Wb(43,"label",20),c.Hc(44,"S\u0110T: "),c.Vb(),c.Wb(45,"div",5),c.Rb(46,"input",21),c.Fc(47,C,3,2,"span",7),c.Vb(),c.Vb(),c.Wb(48,"div",3),c.Wb(49,"label",22),c.Hc(50,"Email: "),c.Vb(),c.Wb(51,"div",5),c.Rb(52,"input",23),c.Fc(53,q,2,1,"span",7),c.Vb(),c.Vb(),c.Wb(54,"div",3),c.Wb(55,"label",24),c.Hc(56,"Ch\u1ee9c v\u1ee5: "),c.Vb(),c.Wb(57,"div",5),c.Wb(58,"nb-select",25),c.Wb(59,"nb-option",26),c.Hc(60,"Nh\xe2n vi\xean"),c.Vb(),c.Wb(61,"nb-option",27),c.Hc(62,"Admin"),c.Vb(),c.Wb(63,"nb-option",28),c.Hc(64,"Nh\xe2n vi\xean kho"),c.Vb(),c.Wb(65,"nb-option",29),c.Hc(66,"Qu\u1ea3n l\xfd"),c.Vb(),c.Vb(),c.Fc(67,k,2,0,"span",7),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(68,"nb-card-footer"),c.Wb(69,"div",0),c.Wb(70,"div",30),c.Wb(71,"button",31),c.dc("click",function(){return e.addStaff()}),c.Hc(72,"TH\xcaM M\u1edaI"),c.Vb(),c.Vb(),c.Wb(73,"div",32),c.Wb(74,"button",33),c.dc("click",function(t){return e.resetForm(t)}),c.Hc(75,"NH\u1eacP L\u1ea0I"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb()),2&t){const t=c.vc(34);c.Db(6),c.nc("formGroup",e.formAddStaff),c.Db(5),c.nc("status",e.getConfig("id")?"danger":"basic"),c.Db(1),c.nc("ngIf",e.formAddStaff.get("id").invalid&&(null==e.formAddStaff.controls.id?null:e.formAddStaff.controls.id.touched)),c.Db(5),c.nc("status",e.getConfig("name")?"danger":"basic"),c.Db(1),c.nc("ngIf",e.formAddStaff.get("name").invalid&&e.formAddStaff.get("name").touched),c.Db(6),c.nc("value",!0),c.Db(2),c.nc("value",!1),c.Db(6),c.nc("nbDatepicker",t)("status",e.getConfig("birth")?"danger":"basic"),c.Db(3),c.nc("ngIf",e.formAddStaff.get("birth").invalid&&e.formAddStaff.get("birth").touched),c.Db(5),c.nc("status",e.getConfig("password")?"danger":"basic"),c.Db(1),c.nc("ngIf",e.formAddStaff.get("password").invalid&&e.formAddStaff.get("password").touched),c.Db(5),c.nc("status",e.getConfig("phone")?"danger":"basic"),c.Db(1),c.nc("ngIf",e.formAddStaff.get("phone").invalid&&e.formAddStaff.get("phone").touched),c.Db(5),c.nc("status",e.getConfig("email")?"danger":"basic"),c.Db(1),c.nc("ngIf",e.formAddStaff.get("email").invalid&&e.formAddStaff.get("email").touched),c.Db(5),c.nc("status",e.getConfig("permission")?"danger":"basic"),c.Db(9),c.nc("ngIf",e.formAddStaff.get("permission").invalid&&e.formAddStaff.get("email").touched),c.Db(4),c.nc("disabled",e.formAddStaff.invalid)}},directives:[u.o,u.q,u.n,r.z,r.o,r.g,r.b,u.G,r.n,r.f,s.n,u.X,u.W,u.y,u.x,u.cb,u.U,u.p,u.l],encapsulation:2}),t})(),E=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Kb({type:t,selectors:[["ngx-staff"]],decls:3,vars:0,template:function(t,e){1&t&&(c.Wb(0,"nb-layout"),c.Wb(1,"nb-layout-column"),c.Rb(2,"router-outlet"),c.Vb(),c.Vb())},directives:[u.J,u.I,l.h],encapsulation:2}),t})();var L=n("Dzk/"),Q=n("RS3s");function M(t,e){if(1&t){const t=c.Xb();c.Wb(0,"nb-card",2),c.Wb(1,"nb-card-header"),c.Hc(2),c.Vb(),c.Wb(3,"nb-card-body"),c.Wb(4,"nb-list"),c.Wb(5,"nb-list-item"),c.Wb(6,"div",3),c.Rb(7,"i",4),c.Hc(8," T\xean nh\xe2n vi\xean: "),c.Vb(),c.Wb(9,"div",5),c.Hc(10),c.Vb(),c.Vb(),c.Wb(11,"nb-list-item"),c.Wb(12,"div",3),c.Rb(13,"i",6),c.Hc(14," Gi\u1edbi t\xednh: "),c.Vb(),c.Wb(15,"div",5),c.Hc(16),c.Vb(),c.Vb(),c.Wb(17,"nb-list-item"),c.Wb(18,"div",3),c.Rb(19,"i",7),c.Hc(20," Ng\xe0y sinh: "),c.Vb(),c.Wb(21,"div",5),c.Hc(22),c.ic(23,"date"),c.Vb(),c.Vb(),c.Wb(24,"nb-list-item"),c.Wb(25,"div",3),c.Rb(26,"i",8),c.Hc(27," S\u1ed1 di\u1ec7n tho\u1ea1i: "),c.Vb(),c.Wb(28,"div",5),c.Hc(29),c.Vb(),c.Vb(),c.Wb(30,"nb-list-item"),c.Wb(31,"div",3),c.Rb(32,"i",9),c.Hc(33," Email: "),c.Vb(),c.Wb(34,"div",5),c.Hc(35),c.Vb(),c.Vb(),c.Wb(36,"nb-list-item"),c.Wb(37,"div",3),c.Rb(38,"i",10),c.Hc(39," Ch\u1ee9c v\u1ee5: "),c.Vb(),c.Wb(40,"div",5),c.Hc(41),c.ic(42,"perm"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(43,"nb-card-footer"),c.Wb(44,"div",11),c.Wb(45,"div",12),c.Wb(46,"button",13),c.dc("click",function(){c.xc(t);const e=c.hc();return e.onUpdate(e.staff.id)}),c.Rb(47,"i",14),c.Hc(48,"\u2003C\u1eadp nh\u1eadt th\xf4ng tin "),c.Vb(),c.Vb(),c.Wb(49,"div",15),c.Wb(50,"button",16),c.dc("click",function(){c.xc(t);const e=c.hc();return e.onRemove(e.staff.id)}),c.Rb(51,"i",17),c.Hc(52,"\u2003X\xf3a nh\xe2n vi\xean "),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb()}if(2&t){const t=c.hc();c.Db(2),c.Jc("Th\xf4ng tin nh\xe2n vi\xean: ",t.staff.id,""),c.Db(8),c.Ic(t.staff.name),c.Db(6),c.Ic(t.staff.gender?"Nam":"N\u1eef"),c.Db(6),c.Ic(c.kc(23,7,t.staff.birth,"dd/MM/yyyy")),c.Db(7),c.Ic(t.staff.phone),c.Db(6),c.Ic(t.staff.email),c.Db(6),c.Ic(c.jc(42,10,t.staff.permissionID))}}function T(t,e){1&t&&(c.Wb(0,"nb-card",18),c.Wb(1,"nb-card-header"),c.Hc(2,"Staff does not exist"),c.Vb(),c.Vb())}function B(t,e){1&t&&(c.Wb(0,"span"),c.Hc(1,"Name is required"),c.Vb())}function G(t,e){if(1&t&&(c.Wb(0,"span"),c.Hc(1),c.Vb()),2&t){const t=c.hc(3);c.Db(1),c.Jc(" Name at least ",null==t.frUpdateStaff.get("name").errors?null:t.frUpdateStaff.get("name").errors.minlength.requiredLength," characters ")}}function J(t,e){if(1&t&&(c.Wb(0,"span"),c.Hc(1),c.Vb()),2&t){const t=c.hc(3);c.Db(1),c.Jc(" Name at most ",null==t.frUpdateStaff.get("name").errors?null:t.frUpdateStaff.get("name").errors.maxlength.requiredLength," characters ")}}function O(t,e){if(1&t&&(c.Wb(0,"span",35),c.Fc(1,B,2,0,"span",36),c.Fc(2,G,2,1,"span",36),c.Fc(3,J,2,1,"span",36),c.Vb()),2&t){const t=c.hc(2);c.Db(1),c.nc("ngIf",t.frUpdateStaff.get("name").errors.required),c.Db(1),c.nc("ngIf",null==t.frUpdateStaff.get("name").errors?null:t.frUpdateStaff.get("name").errors.minlength),c.Db(1),c.nc("ngIf",null==t.frUpdateStaff.get("name").errors?null:t.frUpdateStaff.get("name").errors.maxlength)}}function z(t,e){1&t&&(c.Wb(0,"span"),c.Hc(1,"Birth is required"),c.Vb())}function X(t,e){if(1&t&&(c.Wb(0,"span",35),c.Fc(1,z,2,0,"span",36),c.Vb()),2&t){const t=c.hc(2);c.Db(1),c.nc("ngIf",t.frUpdateStaff.get("birth").errors.required)}}function K(t,e){1&t&&(c.Wb(0,"span"),c.Hc(1,"Password is required"),c.Vb())}function Z(t,e){if(1&t&&(c.Wb(0,"span"),c.Hc(1),c.Vb()),2&t){const t=c.hc(3);c.Db(1),c.Jc(" Password at least ",null==t.frUpdateStaff.get("password").errors?null:t.frUpdateStaff.get("password").errors.minlength.requiredLength," characters ")}}function _(t,e){if(1&t&&(c.Wb(0,"span"),c.Hc(1),c.Vb()),2&t){const t=c.hc(3);c.Db(1),c.Jc(" Password at most ",null==t.frUpdateStaff.get("password").errors?null:t.frUpdateStaff.get("password").errors.maxlength.requiredLength," characters ")}}function j(t,e){1&t&&(c.Wb(0,"span"),c.Hc(1," Password is invalid "),c.Vb())}function $(t,e){if(1&t&&(c.Wb(0,"span",35),c.Fc(1,K,2,0,"span",36),c.Fc(2,Z,2,1,"span",36),c.Fc(3,_,2,1,"span",36),c.Fc(4,j,2,0,"span",36),c.Vb()),2&t){const t=c.hc(2);c.Db(1),c.nc("ngIf",t.frUpdateStaff.get("password").errors.required),c.Db(1),c.nc("ngIf",null==t.frUpdateStaff.get("password").errors?null:t.frUpdateStaff.get("password").errors.minlength),c.Db(1),c.nc("ngIf",null==t.frUpdateStaff.get("password").errors?null:t.frUpdateStaff.get("password").errors.maxlength),c.Db(1),c.nc("ngIf",null==t.frUpdateStaff.get("password").errors?null:t.frUpdateStaff.get("password").errors.pattern)}}function Y(t,e){1&t&&(c.Wb(0,"span"),c.Hc(1,"Phone is required"),c.Vb())}function tt(t,e){1&t&&(c.Wb(0,"span"),c.Hc(1," Phone is invalid "),c.Vb())}function et(t,e){if(1&t&&(c.Wb(0,"span",35),c.Fc(1,Y,2,0,"span",36),c.Fc(2,tt,2,0,"span",36),c.Vb()),2&t){const t=c.hc(2);c.Db(1),c.nc("ngIf",t.frUpdateStaff.get("phone").errors.required),c.Db(1),c.nc("ngIf",null==t.frUpdateStaff.get("phone").errors?null:t.frUpdateStaff.get("phone").errors.pattern)}}function nt(t,e){1&t&&(c.Wb(0,"span"),c.Hc(1," Email is invalid "),c.Vb())}function at(t,e){if(1&t&&(c.Wb(0,"span",35),c.Fc(1,nt,2,0,"span",36),c.Vb()),2&t){const t=c.hc(2);c.Db(1),c.nc("ngIf",null==t.frUpdateStaff.get("email").errors?null:t.frUpdateStaff.get("email").errors.email)}}function rt(t,e){if(1&t){const t=c.Xb();c.Wb(0,"nb-card",4),c.Wb(1,"nb-card-header"),c.Hc(2),c.Vb(),c.Wb(3,"nb-card-body"),c.Wb(4,"form",5),c.Wb(5,"div",6),c.Wb(6,"label",7),c.Hc(7,"H\u1ecd t\xean: "),c.Vb(),c.Wb(8,"div",8),c.Rb(9,"input",9),c.Fc(10,O,4,3,"span",10),c.Vb(),c.Vb(),c.Wb(11,"div",6),c.Wb(12,"label",11),c.Hc(13,"Gi\u1edbi t\xednh: "),c.Vb(),c.Wb(14,"div",12),c.Wb(15,"nb-radio-group",13),c.Wb(16,"nb-radio",14),c.Hc(17,"Nam"),c.Vb(),c.Wb(18,"nb-radio",14),c.Hc(19,"N\u1eef"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(20,"div",6),c.Wb(21,"label",15),c.Hc(22,"Ng\xe0y sinh: "),c.Vb(),c.Wb(23,"div",16),c.Rb(24,"input",17),c.Rb(25,"nb-datepicker",null,18),c.Fc(27,X,2,1,"span",10),c.Vb(),c.Vb(),c.Wb(28,"div",6),c.Wb(29,"label",19),c.Hc(30,"M\u1eadt kh\u1ea9u: "),c.Vb(),c.Wb(31,"div",8),c.Rb(32,"input",20),c.Fc(33,$,5,4,"span",10),c.Vb(),c.Vb(),c.Wb(34,"div",6),c.Wb(35,"label",21),c.Hc(36,"S\u0110T: "),c.Vb(),c.Wb(37,"div",8),c.Rb(38,"input",22),c.Fc(39,et,3,2,"span",10),c.Vb(),c.Vb(),c.Wb(40,"div",6),c.Wb(41,"label",23),c.Hc(42,"Email: "),c.Vb(),c.Wb(43,"div",8),c.Rb(44,"input",24),c.Fc(45,at,2,1,"span",10),c.Vb(),c.Vb(),c.Wb(46,"div",6),c.Wb(47,"label",25),c.Hc(48,"Ch\u1ee9c v\u1ee5: "),c.Vb(),c.Wb(49,"div",8),c.Wb(50,"nb-select",26),c.Wb(51,"nb-option",27),c.Hc(52,"Nh\xe2n vi\xean"),c.Vb(),c.Wb(53,"nb-option",28),c.Hc(54,"Admin"),c.Vb(),c.Wb(55,"nb-option",29),c.Hc(56,"Nh\xe2n vi\xean kho"),c.Vb(),c.Wb(57,"nb-option",30),c.Hc(58,"Qu\u1ea3n l\xfd"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(59,"nb-card-footer"),c.Wb(60,"div",0),c.Wb(61,"div",31),c.Wb(62,"button",32),c.dc("click",function(){return c.xc(t),c.hc().updateStaff()}),c.Hc(63,"C\u1eacP NH\u1eacT"),c.Vb(),c.Vb(),c.Wb(64,"div",33),c.Wb(65,"button",34),c.dc("click",function(){return c.xc(t),c.hc().initForm()}),c.Hc(66,"NH\u1eacP L\u1ea0I"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb()}if(2&t){const t=c.vc(26),e=c.hc();c.Db(2),c.Jc("C\u1eacP NH\u1eacT NH\xc2N VI\xcaN ",e.staff.id,""),c.Db(2),c.nc("formGroup",e.frUpdateStaff),c.Db(5),c.nc("status",e.frUpdateStaff.get("name").invalid&&e.frUpdateStaff.get("name").touched?"danger":"basic"),c.Db(1),c.nc("ngIf",e.frUpdateStaff.get("name").invalid&&e.frUpdateStaff.get("name").touched),c.Db(6),c.nc("value",!0),c.Db(2),c.nc("value",!1),c.Db(6),c.nc("status",e.frUpdateStaff.get("birth").invalid&&e.frUpdateStaff.get("birth").touched?"danger":"basic")("nbDatepicker",t),c.Db(3),c.nc("ngIf",e.frUpdateStaff.get("birth").invalid&&e.frUpdateStaff.get("birth").touched),c.Db(5),c.nc("status",e.frUpdateStaff.get("password").invalid&&e.frUpdateStaff.get("password").touched?"danger":"basic"),c.Db(1),c.nc("ngIf",e.frUpdateStaff.get("password").invalid&&e.frUpdateStaff.get("password").touched),c.Db(5),c.nc("status",e.frUpdateStaff.get("phone").invalid&&e.frUpdateStaff.get("phone").touched?"danger":"basic"),c.Db(1),c.nc("ngIf",e.frUpdateStaff.get("phone").invalid&&e.frUpdateStaff.get("phone").touched),c.Db(5),c.nc("status",e.frUpdateStaff.get("email").invalid&&e.frUpdateStaff.get("email").touched?"danger":"basic"),c.Db(1),c.nc("ngIf",e.frUpdateStaff.get("email").invalid&&e.frUpdateStaff.get("email").touched),c.Db(17),c.nc("disabled",e.frUpdateStaff.invalid)}}function st(t,e){1&t&&(c.Wb(0,"nb-card",35),c.Wb(1,"nb-card-header"),c.Hc(2,"Staff does not exist"),c.Vb(),c.Vb())}const it=[{path:"",component:E,children:[{path:"",component:(()=>{class t{constructor(t,e,n,a,r){this.dialog=t,this.staffService=e,this.router=n,this.route=a,this.toast=r,this.settings={actions:{add:!1,edit:!1,delete:!1},delete:{deleteButtonContent:'<i class="nb-trash"></i>',confirmDelete:!0},pager:{display:!0},columns:{id:{title:"ID",type:"string"},name:{title:"T\xean nh\xe2n vi\xean",type:"string"},birth:{title:"Ng\xe0y sinh",type:"date",valuePrepareFunction:t=>{var e=new Date(t);return new s.e("en-EN").transform(e,"dd/MM/yyyy")}},phone:{title:"SDT",type:"string"},gender:{title:"Gi\u1edbi t\xednh",type:"boolean",valuePrepareFunction:t=>t?"Nam":"N\u1eef",filter:{type:"list",config:{selectText:"Select",list:[{value:!0,title:"Nam"},{value:!1,title:"N\u1eef"}]}}},permissionID:{title:"Ch\u1ee9c v\u1ee5",type:"string",valuePrepareFunction:t=>(new L.a).transform(t),filter:{type:"list",config:{selectText:"Select",list:[{value:"STAFF",title:"Nh\xe2n vi\xean"},{value:"WAREHOUSE",title:"Nh\xe2n vi\xean kho"},{value:"ADMIN",title:"Qu\u1ea3n tr\u1ecb vi\xean"},{value:"MANAGER",title:"Qu\u1ea3n l\xfd"}]}}}}},this.source=new Q.a}ngOnInit(){this.loadSrc(),this.route.queryParams.subscribe(t=>{null!=t.search&&this.onSearch(t.search)})}loadSrc(){this.source.reset(),this.staffService.ListStaff.subscribe(t=>{this.source.load(t)})}staffSelect(t){this.router.navigateByUrl("/home/staff/details/"+t.data.id)}onDeleteConfirm(t){this.dialog.open(i.a,{context:{title:"Are you want to remove this staff?",content:"Staff "+t.data.id}}).onClose.subscribe(e=>{e?this.staffService.removeStaff(t.data.id).subscribe(t=>{this.loadSrc()},t=>{this.toast.show(t.error,"Error delete",{status:"danger"})}):t.confirm.reject()})}onSearch(t){t.trim(),this.source.setFilter([{field:"id",search:t}],!1)}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(u.C),c.Qb(b),c.Qb(l.c),c.Qb(l.a),c.Qb(u.lb))},t.\u0275cmp=c.Kb({type:t,selectors:[["ngx-list-staff"]],decls:5,vars:2,consts:[["accent","primary"],[3,"settings","source","deleteConfirm","userRowSelect"]],template:function(t,e){1&t&&(c.Wb(0,"nb-card",0),c.Wb(1,"nb-card-header"),c.Hc(2," DANH S\xc1CH NH\xc2N VI\xcaN "),c.Vb(),c.Wb(3,"nb-card-body"),c.Wb(4,"ng2-smart-table",1),c.dc("deleteConfirm",function(t){return e.onDeleteConfirm(t)})("userRowSelect",function(t){return e.staffSelect(t)}),c.Vb(),c.Vb(),c.Vb()),2&t&&(c.Db(4),c.nc("settings",e.settings)("source",e.source))},directives:[u.o,u.q,u.n,Q.b],encapsulation:2}),t})()},{path:"add",component:P},{path:"details/:id",component:(()=>{class t{constructor(t,e,n,a){this.route=t,this.staffService=e,this.dialog=n,this.router=a}ngOnInit(){this.route.paramMap.subscribe(t=>{const e=t.get("id");this.staffService.getByID(e).subscribe(t=>{this.staff=t.staff})})}onRemove(t){this.dialog.open(i.a,{context:{title:"Are you want to remove staff?",content:"ID: "+t}}).onClose.subscribe(e=>{e&&this.staffService.removeStaff(t).subscribe(t=>{this.router.navigateByUrl("/home/staff")},t=>{this.dialog.open(i.a,{context:{title:"Error remove",content:t.error}})})})}onUpdate(t){this.router.navigateByUrl("/home/staff/update/"+t)}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(l.a),c.Qb(b),c.Qb(u.C),c.Qb(l.c))},t.\u0275cmp=c.Kb({type:t,selectors:[["ngx-detail-staff"]],decls:3,vars:2,consts:[["status","success",4,"ngIf","ngIfElse"],["noStaff",""],["status","success"],[1,"col-4"],[1,"fas","fa-user"],[1,"col-6"],[1,"fas","fa-venus-mars"],[1,"fas","fa-birthday-cake"],[1,"fas","fa-phone"],[1,"fas","fa-envelope"],[1,"fas","fa-id-card-alt"],[1,"row"],[1,"col-md-4","col-12"],["hero","","fullWidth","","nbButton","","shape","semi-round","status","info",3,"click"],[1,"fas","fa-edit"],[1,"offset-md-4","col-md-4","col-12"],["hero","","fullWidth","","nbButton","","shape","semi-round","status","danger",3,"click"],[1,"fas","fa-user-times"],["status","danger"]],template:function(t,e){if(1&t&&(c.Fc(0,M,53,12,"nb-card",0),c.Fc(1,T,3,0,"ng-template",null,1,c.Gc)),2&t){const t=c.vc(2);c.nc("ngIf",null!=e.staff)("ngIfElse",t)}},directives:[s.n,u.o,u.q,u.n,u.N,u.O,u.p,u.l],pipes:[s.e,L.a],encapsulation:2}),t})()},{path:"update/:id",component:(()=>{class t{constructor(t,e,n,a,r,s){this.fb=t,this.staffService=e,this.route=n,this.dialog=a,this.router=r,this.toast=s}ngOnInit(){this.route.paramMap.subscribe(t=>{const e=t.get("id");this.staffService.getByID(e).subscribe(t=>{this.staff=t.staff,this.initForm()})})}initForm(){this.frUpdateStaff=this.fb.group({name:[this.staff.name,[r.x.required,r.x.maxLength(50)]],password:[this.staff.password,[r.x.required,r.x.minLength(6),r.x.maxLength(20),r.x.pattern("^[a-z0-9A-Z]{6,20}$")]],phone:[this.staff.phone,[r.x.required,r.x.pattern(/(03|05|07|08|09|01[2|6|8|9])+([0-9]{8})\b/)]],gender:[this.staff.gender,[r.x.required]],birth:[new Date(this.staff.birth),[r.x.required]],permission:[this.staff.permissionID,[r.x.required]],email:[this.staff.email,[r.x.email]]})}resetForm(){this.initForm()}updateStaff(){this.dialog.open(i.a,{context:{title:`C\u1eadp nh\u1eadt nh\xe2n vi\xean ${this.staff.id}?`}}).onClose.subscribe(t=>{t&&this.update()})}update(){this.staff.name=this.frUpdateStaff.get("name").value,this.staff.birth=this.frUpdateStaff.get("birth").value,this.staff.gender=this.frUpdateStaff.get("gender").value,this.staff.phone=this.frUpdateStaff.get("phone").value,this.staff.permissionID=this.frUpdateStaff.get("permission").value,this.staff.email=this.frUpdateStaff.get("email").value,this.staff.password=this.frUpdateStaff.get("password").value,this.staffService.updateStaff(this.staff).subscribe(t=>{this.router.navigateByUrl("/home/staff/details/"+this.staff.id)},t=>{this.dialog.open(i.a,{context:{title:"Error update",content:t.error}})})}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(r.c),c.Qb(b),c.Qb(l.a),c.Qb(u.C),c.Qb(l.c),c.Qb(u.lb))},t.\u0275cmp=c.Kb({type:t,selectors:[["ngx-update-staff"]],decls:5,vars:2,consts:[[1,"row"],[1,"col-md-12"],["status","success",4,"ngIf","ngIfElse"],["noStaff",""],["status","success"],["novalidate","",3,"formGroup"],[1,"form-group","row"],["for","name",1,"label","col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text","formControlName","name","nbInput","","fullWidth","","id","name","placeholder","Name",3,"status"],["class","text-danger",4,"ngIf"],["for","gender",1,"label","col-sm-3","col-form-label"],["id","gender",1,"col-sm-9"],["formControlName","gender"],[3,"value"],["for","birth",1,"label","col-sm-3","col-form-label"],["id","birth",1,"col-sm-9"],["formControlName","birth","nbInput","","fullWidth","","placeholder","Birthday",3,"status","nbDatepicker"],["dateTimePicker",""],["for","pass",1,"label","col-sm-3","col-form-label"],["type","password","formControlName","password","nbInput","","fullWidth","","id","pass","placeholder","Password",3,"status"],["for","phone",1,"label","col-sm-3","col-form-label"],["type","tel","formControlName","phone","nbInput","","fullWidth","","id","phone","placeholder","Phone number",3,"status"],["for","email",1,"label","col-sm-3","col-form-label"],["type","email","formControlName","email","nbInput","","fullWidth","","id","email","placeholder","Email",3,"status"],["for","permission",1,"label","col-sm-3","col-form-label"],["formControlName","permission","placeholder","Permission","shape","semi-round","id","permission"],["value","STAFF"],["value","ADMIN"],["value","WAREHOUSE"],["value","MANAGER"],[1,"col-md-4","col-12"],["nbButton","","fullWidth","","hero","","status","primary",3,"disabled","click"],[1,"offset-md-4","col-md-4","col-12"],["nbButton","","fullWidth","","hero","","status","danger",3,"click"],[1,"text-danger"],[4,"ngIf"]],template:function(t,e){if(1&t&&(c.Wb(0,"div",0),c.Wb(1,"div",1),c.Fc(2,rt,67,16,"nb-card",2),c.Vb(),c.Vb(),c.Fc(3,st,3,0,"ng-template",null,3,c.Gc)),2&t){const t=c.vc(4);c.Db(2),c.nc("ngIf",null!=e.staff)("ngIfElse",t)}},directives:[s.n,u.o,u.q,u.n,r.z,r.o,r.g,r.b,u.G,r.n,r.f,u.X,u.W,u.y,u.x,u.cb,u.U,u.p,u.l],encapsulation:2}),t})()}]}];let ft=(()=>{class t{}return t.\u0275mod=c.Ob({type:t}),t.\u0275inj=c.Nb({factory:function(e){return new(e||t)},imports:[[l.g.forChild(it)],l.g]}),t})();var ot=n("CvZm");let ct=(()=>{class t{}return t.\u0275mod=c.Ob({type:t}),t.\u0275inj=c.Nb({factory:function(e){return new(e||t)},imports:[[s.c,ft,u.r,u.F,Q.c,u.H,u.m,u.i,u.pb,u.db,u.Y,u.z,ot.a,u.k,r.h,r.u,u.P,a.a.forRoot(),u.M,u.fb.forRoot()]]}),t})()}}]);